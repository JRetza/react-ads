(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{97:function(e,i,a){"use strict";a.r(i),a.d(i,"spec",(function(){return n}));var d=a(279),t=a(281),r=a(280);function s(e,i,a){return i in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a,e}var n={code:"ebdr",supportedMediaTypes:[t.b,t.d],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.zoneid)},buildRequests:function(e){var i=window.location.host,a=window.location.pathname+location.search+location.hash,r=[],n={},o={},p="",l="";e.forEach((function(e){var i;d.logInfo("Log bid",e);var a=d.getBidIdParameter("bidfloor",e.params),u=function(e){var i=null,a=null;if(e.sizes&&e.sizes.length){2===e.sizes.length&&"number"==typeof e.sizes[0]&&"number"==typeof e.sizes[1]&&(i=e.sizes[0],a=e.sizes[1])}var d=e.mediaTypes&&e.mediaTypes.video?t.d:t.b;e.mediaTypes&&e.mediaTypes[d]&&(d==t.b&&e.mediaTypes[d].sizes&&e.mediaTypes[d].sizes[0]&&2===e.mediaTypes[d].sizes[0].length?(i=e.mediaTypes[d].sizes[0][0],a=e.mediaTypes[d].sizes[0][1]):d==t.d&&e.mediaTypes[d].playerSize&&2===e.mediaTypes[d].playerSize.length&&(i=e.mediaTypes[d].playerSize[0],a=e.mediaTypes[d].playerSize[1]));return[i,a]}(e),m=e.mediaTypes&&e.mediaTypes.video?t.d:t.b;p=d.getBidIdParameter("zoneid",e.params),l=e.bidderRequestId,r.push((s(i={id:e.bidId},m,{w:u[0],h:u[1]}),s(i,"bidfloor",a),i)),n[e.bidId]={mediaTypes:m,w:u[0],h:u[1]},o.latitude=d.getBidIdParameter("latitude",e.params),o.longitude=d.getBidIdParameter("longitude",e.params),o.ifa=d.getBidIdParameter("IDFA",e.params).length>d.getBidIdParameter("ADID",e.params).length?d.getBidIdParameter("IDFA",e.params):d.getBidIdParameter("ADID",e.params)}));var u={id:l,imp:r,site:{domain:i,page:a},device:{geo:{lat:o.latitude,log:o.longitude},ifa:o.ifa}};return{method:"GET",url:"https://dsp.bnmla.com/hb?&zoneid="+p+"&br="+encodeURIComponent(JSON.stringify(u)),bids:n}},interpretResponse:function(e,i){d.logInfo("Log serverResponse",e),d.logInfo("Log bidRequest",i);var a=[],r=e.body;return r&&r.seatbid&&0!==r.seatbid.length&&r.seatbid[0].bid&&0!==r.seatbid[0].bid.length?(r.seatbid[0].bid.forEach((function(e){var d,r,n,o,p,l;r=parseFloat(e.price),i.bids[e.id].mediaTypes==t.b?(n=decodeURIComponent(e.adm),o="ad",p=t.b):(n=e.adm,o="vastXml",p=t.d,e.nurl&&(l=e.nurl));var u=(s(d={requestId:e.id},o,n),s(d,"mediaType",p),s(d,"creativeId",e.crid),s(d,"cpm",r),s(d,"width",e.w),s(d,"height",e.h),s(d,"currency","USD"),s(d,"netRevenue",!0),s(d,"ttl",3600),d);l&&(u.vastUrl=l),a.push(u)})),a):[]},getUserSyncs:function(e,i){var a=[];if(e.pixelEnabled){var d=i.body;if(!d||!d.seatbid||0===d.seatbid.length||!d.seatbid[0].bid||0===d.seatbid[0].bid.length)return[];d.seatbid[0].bid.forEach((function(e){e.iurl&&e.iurl.length>0&&a.push({type:"image",url:e.iurl})}))}return a}};Object(r.registerBidder)(n)}}]);