(window.webpackJsonpreact_ads=window.webpackJsonpreact_ads||[]).push([[147],{84:function(e,r,t){"use strict";t.r(r),t.d(r,"spec",(function(){return i}));var a=t(277),d=t(278),n=t(279),i={code:"cpmstar",supportedMediaTypes:[n.b,n.d],pageID:Math.floor(1e7*Math.random()),getMediaType:function(e){return null==e?n.b:a.deepAccess(e,"mediaTypes.video")?n.d:n.b},getPlayerSize:function(e){var r=a.deepAccess(e,"mediaTypes.video.playerSize");return null==r?[640,440]:(null!=r[0]&&(r=r[0]),null==r||null==r[0]||null==r[1]?[640,440]:r)},isBidRequestValid:function(e){return"string"==typeof e.params.placementId&&!!e.params.placementId.length||"number"==typeof e.params.placementId},buildRequests:function(e,r){for(var t=[],d=0;d<e.length;d++){var s=e[d],c=encodeURIComponent(r.refererInfo.referer),p=a.getBidIdParameter("endpoint",s.params),o="dev"==p?"https://dev.server.cpmstar.com/view.aspx":"staging"==p?"https://staging.server.cpmstar.com/view.aspx":"https://server.cpmstar.com/view.aspx",l=i.getMediaType(s),u=i.getPlayerSize(s),m="&fv=0"+(u?"&w="+u[0]+"&h="+u[1]:"");t.push({method:"GET",url:o+"?media="+l+(l==n.d?m:"")+"&json=c_b&mv=1&poolid="+a.getBidIdParameter("placementId",s.params)+"&reachedTop="+encodeURIComponent(r.refererInfo.reachedTop)+"&requestid="+s.bidId+"&referer="+c,bidRequest:s})}return t},interpretResponse:function(e,r){var t=r.bidRequest,d=i.getMediaType(t),s=[];Array.isArray(e.body)||(e.body=[e.body]);for(var c=0;c<e.body.length;c++){var p=e.body[c].creatives[0];if(!p)return void a.logWarn("cpmstarBidAdapter: server response failed check");var o=parseFloat(p.cpm)||0;if(!o)return void a.logWarn("cpmstarBidAdapter: server response failed check. Missing cpm");var l={requestId:p.requestid,cpm:o,width:p.width||0,height:p.height||0,currency:p.currency?p.currency:"USD",netRevenue:!p.netRevenue||p.netRevenue,ttl:p.ttl?p.ttl:300,creativeId:p.creativeid||0};if(p.hasOwnProperty("dealId")&&(l.dealId=p.dealId),d==n.b&&p.code)l.ad=p.code+(p.px_cr?"\n<img width=0 height=0 src='"+p.px_cr+"' />":"");else{if(d!=n.d||!p.creativemacros||!p.creativemacros.HTML5VID_VASTSTRING)return a.logError("bad response",p);var u=i.getPlayerSize(t);null!=u&&(l.width=u[0],l.height=u[1]),l.mediaType=n.d,l.vastXml=p.creativemacros.HTML5VID_VASTSTRING}s.push(l)}return s}};Object(d.registerBidder)(i)}}]);