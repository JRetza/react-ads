(window.webpackJsonpreact_ads=window.webpackJsonpreact_ads||[]).push([[253],{240:function(e,t,a){"use strict";a.r(t),a.d(t,"spec",(function(){return c}));var i=a(277),n=a(279),r=a(278),d=a(288),s={0:"title",1:"cta",2:"icon",3:"image",4:"body",5:"sponsoredBy",6:"body2",7:"phone",8:"privacyLink",9:"displayurl",10:"rating",11:"address",12:"downloads",13:"likes",14:"price",15:"saleprice"},o={title:{id:0,name:"title"},body:{id:4,name:"data",type:2},body2:{id:6,name:"data",type:10},privacyLink:{id:8,name:"data",type:501},sponsoredBy:{id:5,name:"data",type:1},image:{id:3,type:3,name:"img"},icon:{id:2,type:1,name:"img"},displayurl:{id:9,name:"data",type:11},cta:{id:1,type:12,name:"data"},rating:{id:7,name:"data",type:3},address:{id:11,name:"data",type:5},downloads:{id:12,name:"data",type:5},likes:{id:13,name:"data",type:4},phone:{id:7,name:"data",type:8},price:{id:14,name:"data",type:6},saleprice:{id:15,name:"data",type:7}},c={code:"theadx",aliases:["theadx"],supportedMediaTypes:[n.b,n.d,n.c],isBidRequestValid:function(e){i.logInfo("theadx.isBidRequestValid",e);var t=!1;return e&&e.params&&(t=!(!e.params.pid||!e.params.tagId)),t},buildRequests:function(e,t){i.logInfo("theadx.buildRequests","validBidRequests",e,"bidderRequest",t);var a=[];return i.isEmpty(e)||(a=e.map((function(e){return{method:"POST",type:"POST",url:"".concat("https://ssp.theadx.com/request","?tagid=").concat(e.params.tagId),options:{withCredentials:!0},bidder:"theadx",referrer:encodeURIComponent(t.refererInfo.referer),data:v(e,t),mediaTypes:e.mediaTypes,requestId:t.bidderRequestId,bidId:e.bidId,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))),a},interpretResponse:function(e,t){i.logInfo("theadx.interpretResponse","serverResponse",e," request",t);var a=[];if(e.body){var r=e.body,d=r.seatbid;if(!i.isEmpty(d)&&!i.isEmpty(d[0].bid)){var c=d[0].bid[0],p=function(e){return void 0===e?null:parseInt(e)},u=null;c.ext&&(u=p(c.ext.ttl)?p(c.ext.ttl):2e3);var l=p(c.w),m=p(c.h),v=null,y=null,f=null,h=null;if(t.mediaTypes&&t.mediaTypes.video)y=c.ext.vast_url,f=n.d;else if(t.mediaTypes&&t.mediaTypes.banner)f=n.b,v=c.adm;else if(t.mediaTypes&&t.mediaTypes.native){f=n.c;var g=c.ext.native,b=g.assets,k=g.link,x=g.imptrackers,w=g.jstracker;h={clickUrl:k.url,clickTrackers:k.clicktrackers||c.ext.cliu?[]:void 0,impressionTrackers:x||c.nurl?[]:void 0,javascriptTrackers:w?[w]:void 0},c.nurl&&(h.impressionTrackers.unshift(c.ext.impu),h.impressionTrackers.unshift(c.nurl),h.clickTrackers&&h.clickTrackers.unshift(c.ext.cliu)),b.forEach((function(e){var t=s[e.id],a=t&&e[o[t].name];a&&(h[t]=a.text||a.value||{url:a.url,width:a.w,height:a.h})}))}var I={bidderCode:"theadx",requestId:t.bidId,cpm:c.price,width:0|l,height:0|m,ad:v,ttl:u||3e3,creativeId:c.crid,netRevenue:!0,currency:r.cur,mediaType:f,native:h};f==n.d&&y&&(I.vastUrl=y,I.videoCacheKey=c.ext.rid),a.push(I)}}return a},getUserSyncs:function(e,t){i.logInfo("theadx.getUserSyncs","syncOptions",e,"serverResponses",t);var a=[];return e.iframeEnabled||e.pixelEnabled?(t.forEach((function(t){var n=i.deepAccess(t,"body.ext.sync.iframe"),r=i.deepAccess(t,"body.ext.sync.image");e.iframeEnabled&&n&&n.forEach((function(e){a.push({type:"iframe",url:e})})),e.pixelEnabled&&r&&r.forEach((function(e){a.push({type:"image",url:e})}))})),a):a}},p=function(e,t){var a=Object(d.c)(t.refererInfo.referer,{decodeSearchAsString:!0}),i={domain:a.hostname,page:a.href,id:e.params.wid,publisher:{id:e.params.pid}};if(a.search&&(i.search=a.search),document){var n=document.getElementsByTagName("meta").keywords;n&&n.content&&(i.keywords=n.content)}return i};var u=function(e,t){return e.bidId},l=function(e,t){var a=null,n=null,r=[],d=e.mediaTypes;d&&(d.banner&&d.banner.sizes||d.video&&d.video.sizes)?r=d.banner?d.banner.sizes:d.video.sizes:i.isEmpty(e.sizes)||(r=e.sizes);var s=i.parseSizesInput(r);if(!i.isEmpty(s)&&null!=s[0]){var o=s[0].split("x");a=parseInt(o[0]),n=parseInt(o[1])}return{w:a,h:n}},m=function(e,t){var a=e.mediaTypes,n=null,r=null,d=null;a&&a.video?r=function(e,t){var a=l(e);return{w:a.w,h:a.h}}(e):a&&a.banner?n=function(e,t){var a=l(e);return{w:a.w,h:a.h}}(e):a&&a.native&&(d=function(e,t){return{request:{assets:i._map(e.mediaTypes.native,(function(e,t){var a=o[t],i={required:1&e.required};if(a)return i.id=a.id,i[a.name]={len:e.len,wmin:e.sizes&&e.sizes[0],hmin:e.sizes&&e.sizes[1],type:a.type},i})).filter(Boolean)}}}(e));var s={id:e.index,tagid:e.params.tagId+""};return n&&(s.banner=n),r&&(s.video=r),d&&(s.native=d),s},v=function(e,t){var a,n,r={id:u(e),site:p(e,t),device:(a={js:1,language:"language"in navigator?navigator.language:null,ua:"userAgent"in navigator?navigator.userAgent:null,devicetype:/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:i.getDNT()?1:0},n=navigator.connection||navigator.webkitConnection,n&&n.type&&(a.connectiontype=n.type,n.downlinkMax&&(a.connectionDownlinkMax=n.downlinkMax)),a),imp:[m(e)]};return JSON.stringify(r)};Object(r.registerBidder)(c)}}]);