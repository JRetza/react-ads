(window.webpackJsonpreact_ads=window.webpackJsonpreact_ads||[]).push([[204],{169:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return u}));var r=n(280),a=n(278),i=n(277),s=n(279),o=n(288);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var d=[s.b,s.d],p={idl_env:"lre",pubcid:"pubcid",tdid:"ttduuid",criteoId:"criteoid"},u={code:"openx",supportedMediaTypes:d,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return i.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||i.deepAccess(e,"mediaTypes.banner.sizes.length")>0:!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var n=[],a=c(function(e){return e.reduce((function(e,t){var n;return n=t,i.deepAccess(n,"mediaTypes.video")&&!i.deepAccess(n,"mediaTypes.banner")||n.mediaType===s.d?e[0].push(t):e[1].push(t),e}),[[],[]])}(e),2),o=a[0],d=a[1];return d.length>0&&n.push(function(e,t){var n=[],a=!1,s=h(e,t),o=i._map(e,(function(e){return e.params.unit}));s.aus=i._map(e,(function(e){return i.parseSizesInput(e.mediaTypes.banner.sizes).join(",")})).join("|"),s.divIds=i._map(e,(function(e){return encodeURIComponent(e.adUnitCode)})).join(","),o.some((function(e){return e}))&&(s.auid=o.join(","));e.some((function(e){return e.params.doNotTrack}))&&(s.ns=1);(!0===r.b.getConfig("coppa")||e.some((function(e){return e.params.coppa})))&&(s.tfcd=1);e.forEach((function(e){if(e.params.customParams){var t=i._map(Object.keys(e.params.customParams),(function(t){return function(e,t){var n=t[e];i.isArray(n)&&(n=n.join(","));return(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")}(t,e.params.customParams)})),r=window.btoa(t.join("&"));a=!0,n.push(r)}else n.push("")})),a&&(s.tps=n.join(","));var c=[],d=!1;e.forEach((function(e){e.params.customFloor?(c.push(Math.round(100*e.params.customFloor)/100*1e3),d=!0):c.push(0)})),d&&(s.aumfs=c.join(","));return{method:"GET",url:s.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:s,payload:{bids:e,startTime:new Date}}}(d,t)),o.length>0&&o.forEach((function(e){n.push(function(e,t){var n=function(e,t){var n,r,a=h([e],t),s=i.deepAccess(e,"params.video")||{},o=i.deepAccess(e,"mediaTypes.video.context"),c=i.deepAccess(e,"mediaTypes.video.playerSize");i.isArray(e.sizes)&&2===e.sizes.length&&!i.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):i.isArray(e.sizes)&&i.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):i.isArray(c)&&2===c.length&&(n=parseInt(c[0],10),r=parseInt(c[1],10));Object.keys(s).forEach((function(e){"openrtb"===e?(s[e].w=n||s[e].w,s[e].v=r||s[e].v,a[e]=JSON.stringify(s[e])):e in a||"url"===e||(a[e]=s[e])})),a.auid=e.params.unit,a.vwd=n||s.vwd,a.vht=r||s.vht,"outstream"===o&&(a.vos="101");s.mimes&&(a.vmimes=s.mimes);return a}(e,t);return{method:"GET",url:n.ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(e.params.delDomain,"/v/1.0/avjp"),data:n,payload:{bid:e,startTime:new Date}}}(e,t))})),n},interpretResponse:function(e,t){var n=e.body;return function(e){return/avjp$/.test(e.url)?s.d:s.b}(t)===s.d?function(e,t){var n=t.bid,r=(t.startTime,[]);if(void 0!==e&&""!==e.vastUrl&&""!==e.pub_rev){var a=Object(o.c)(e.vastUrl).search||{},i={};i.requestId=n.bidId,i.ttl=300,i.netRevenue=!0,i.currency=e.currency,i.cpm=Number(e.pub_rev)/1e3,i.width=e.width,i.height=e.height,i.creativeId=e.adid,i.vastUrl=e.vastUrl,i.mediaType=s.d,e.ph=a.ph,e.colo=a.colo,e.ts=a.ts,r.push(i)}return r}(n,t.payload):function(e,t){for(var n=t.bids,r=(t.startTime,e.ads.ad),a=[],i=0;i<r.length;i++){var s=r[i],o=parseInt(s.idx,10),c={};if(c.requestId=n[o].bidId,s.pub_rev){c.cpm=Number(s.pub_rev)/1e3;var d=s.creative[0];d&&(c.width=d.width,c.height=d.height),c.creativeId=d.id,c.ad=s.html,s.deal_id&&(c.dealId=s.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=s.currency,s.tbd&&(c.tbd=s.tbd),c.ts=s.ts,c.meta={},s.brand_id&&(c.meta.brandId=s.brand_id),s.adv_id&&(c.meta.dspid=s.adv_id),a.push(c)}}return a}(n,t.payload)},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:i.deepAccess(t,"0.body.ads.pixels")||i.deepAccess(t,"0.body.pixels")||function(e,t){var n=[];e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||"")));t&&n.push("us_privacy="+encodeURIComponent(t));return"".concat("https://u.openx.net/w/1.0/pd").concat(n.length>0?"?"+n.join("&"):"")}(n,r)}]},transformBidParams:function(e,t){return i.convertTypes({unit:"string",customFloor:"number"},e)}};function m(e){var t,n,r,a=window,i=document,s=i.documentElement;if(e){try{a=window.top,i=window.top.document}catch(e){return}s=i.documentElement,r=i.body,t=a.innerWidth||s.clientWidth||r.clientWidth,n=a.innerHeight||s.clientHeight||r.clientHeight}else s=i.documentElement,t=a.innerWidth||s.clientWidth,n=a.innerHeight||s.clientHeight;return"".concat(t,"x").concat(n)}function h(e,t){var n,a,s,o,c,d,u=i.inIframe();if(n={ju:r.b.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:u,tz:(new Date).getTimezoneOffset(),tws:m(u),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.1"),dddid:i._map(e,(function(e){return e.transactionId})).join(","),nocache:(new Date).getTime()},e[0].params.platform&&(n.ph=e[0].params.platform),t.gdprConsent){var h=t.gdprConsent;void 0!==h.consentString&&(n.gdpr_consent=h.consentString),void 0!==h.gdprApplies&&(n.gdpr=h.gdprApplies?1:0),"iab"===r.b.getConfig("consentManagement.cmpApi")&&(n.x_gdpr_f=1)}return t&&t.uspConsent&&(n.us_privacy=t.uspConsent),i.deepAccess(e[0],"crumbs.pubcid")&&i.deepSetValue(e[0],"userId.pubcid",i.deepAccess(e[0],"crumbs.pubcid")),a=n,s=e[0].userId,i._each(s,(function(e,t){p.hasOwnProperty(t)&&(a[p[t]]=e)})),n=a,e[0].schain&&(n.schain=(o=e[0].schain,"".concat(o.ver,",").concat(o.complete,"!").concat((c=o.nodes,d=["asi","sid","hp","rid","name","domain"],c.map((function(e){return d.map((function(t){return e[t]||""})).join(",")})).join("!"))))),n}Object(a.registerBidder)(u)}}]);