(window.webpackJsonpreact_ads=window.webpackJsonpreact_ads||[]).push([[47],{174:function(e,t,r){"use strict";r.r(t),r.d(t,"spec",(function(){return f})),r.d(t,"injectAdIdsIntoAllBidResponses",(function(){return O})),r.d(t,"checkDeepArray",(function(){return m})),r.d(t,"defaultSize",(function(){return h})),r.d(t,"ozoneGetWinnerForRequestBid",(function(){return b})),r.d(t,"ozoneGetAllBidsForBidId",(function(){return I})),r.d(t,"getRoundedBid",(function(){return y})),r.d(t,"getGranularityKeyName",(function(){return E})),r.d(t,"getGranularityObject",(function(){return v})),r.d(t,"ozoneAddStandardProperties",(function(){return A})),r.d(t,"getWidthAndHeightFromVideoObject",(function(){return D})),r.d(t,"playerSizeIsNestedArray",(function(){return z}));var o=r(277),n=r(278),i=r(279),a=r(280),s=r(325),d=r(287);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["oz_lotameid","oz_lotamepid","oz_lotametpid"],p="https://elb.the-ozone-project.com/openrtb2/auction",g="https://elb.the-ozone-project.com/static/load-cookie.html",f={code:"ozone",supportedMediaTypes:[i.d,i.b],cookieSyncBag:{publisherId:null,siteId:null,userIdObject:{}},isBidRequestValid:function(e){o.logInfo("OZONE: isBidRequestValid : ",a.b.getConfig(),e);var t=e.adUnitCode;if(!e.params.hasOwnProperty("placementId"))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : missing placementId : siteId, placementId and publisherId are REQUIRED",t),!1;if(!this.isValidPlacementId(e.params.placementId))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : placementId must be exactly 10 numeric characters",t),!1;if(!e.params.hasOwnProperty("publisherId"))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : missing publisherId : siteId, placementId and publisherId are REQUIRED",t),!1;if(!e.params.publisherId.toString().match(/^[a-zA-Z0-9\-]{12}$/))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : publisherId must be exactly 12 alphanumieric characters including hyphens",t),!1;if(!e.params.hasOwnProperty("siteId"))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : missing siteId : siteId, placementId and publisherId are REQUIRED",t),!1;if(!e.params.siteId.toString().match(/^[0-9]{10}$/))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : siteId must be exactly 10 numeric characters",t),!1;if(e.params.hasOwnProperty("customParams"))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : customParams should be renamed to customData",t),!1;if(e.params.hasOwnProperty("customData")){if(!Array.isArray(e.params.customData))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : customData is not an Array",t),!1;if(e.params.customData.length<1)return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : customData is an array but does not contain any elements",t),!1;if(!e.params.customData[0].hasOwnProperty("targeting"))return o.logError('OZONE: OZONE BID ADAPTER VALIDATION FAILED : customData[0] does not contain "targeting"',t),!1;if("object"!=l(e.params.customData[0].targeting))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : customData[0] targeting is not an object",t),!1}if(e.params.hasOwnProperty("lotameData")&&"object"!==l(e.params.lotameData))return o.logError("OZONE: OZONE BID ADAPTER VALIDATION FAILED : lotameData is not an object",t),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(i.d)){if(!e.mediaTypes[i.d].hasOwnProperty("context"))return o.logError("OZONE: No context key/value in bid. Rejecting bid: ",e),!1;if("instream"===e.mediaTypes[i.d].context)o.logWarn("OZONE: video.context instream is not supported. Only outstream video is supported. Video will not be used for Bid: ",e);else if("outstream"!==e.mediaTypes.video.context)return o.logError("OZONE: video.context is invalid. Only outstream video is supported. Rejecting bid: ",e),!1}var r=this.getLotameOverrideParams(),n=Object.keys(r);if(n.length===u.length){for(var s in o.logInfo("OZONE: VALIDATION : arrLotameOverride",r),n)if(!r[u[s]].toString().match(/^[0-9a-zA-Z]+$/))return o.logError("OZONE: Only letters & numbers allowed in lotame override: "+s.toString()+": "+r[u[s]].toString()+". Rejecting bid: ",e),!1}else if(n.length>0)return o.logInfo("OZONE: VALIDATION : arrLotameOverride",r),o.logError("OZONE: lotame override params are incomplete. You must set all "+u.length+": "+JSON.stringify(u)+", . Rejecting bid: ",e),!1;return!0},isValidPlacementId:function(e){return e.toString().match(/^[0-9]{10}$/)},buildRequests:function(e,t){var r=this;if(o.logInfo("OZONE: ozone v2.3.0 validBidRequests",e,"bidderRequest",t),this.blockTheRequest(t))return[];var n={publisherId:"",siteId:""};e.length>0&&(this.cookieSyncBag.userIdObject=c(this.cookieSyncBag.userIdObject,this.findAllUserIds(e[0])),this.cookieSyncBag.siteId=o.deepAccess(e[0],"params.siteId"),this.cookieSyncBag.publisherId=o.deepAccess(e[0],"params.publisherId"),n=e[0].params),o.logInfo("OZONE: cookie sync bag",this.cookieSyncBag);var s=a.b.getConfig("ozone.singleRequest");s=!1!==s,o.logInfo("OZONE: config ozone.singleRequest : ",s);var d={};delete d.test,t&&t.gdprConsent?(o.logInfo("OZONE: ADDING GDPR info"),d.regs={},d.regs.ext={},d.regs.ext.gdpr=t.gdprConsent.gdprApplies?1:0,d.regs.ext.gdpr?(d.user=d.user||{},d.user.ext={consent:t.gdprConsent.consentString}):o.logInfo("OZONE: **** Failed to find required info for GDPR for request object, even though bidderRequest.gdprConsent is TRUE ****")):o.logInfo("OZONE: WILL NOT ADD GDPR info; no bidderRequest.gdprConsent object was present.");var g=this.getGetParametersAsObject(),f=g.hasOwnProperty("oztestmode")?g.oztestmode:null;d.device={w:window.innerWidth,h:window.innerHeight};var O=this.getPlacementIdOverrideFromGetParam(),m=this.getLotameOverrideParams(),h=0,b=e.map((function(e){var t={},n=O||r.getPlacementId(e);t.id=e.bidId,t.tagid=n,t.secure="https:"===window.location.protocol?1:0;var a=[];if(e.hasOwnProperty("mediaTypes")){if(e.mediaTypes.hasOwnProperty(i.b)&&(a=e.mediaTypes[i.b].sizes,o.logInfo("OZONE: setting banner size from the mediaTypes.banner element for bidId "+t.id+": ",a)),e.mediaTypes.hasOwnProperty(i.d)&&"outstream"===e.mediaTypes[i.d].context){t.video=e.mediaTypes[i.d];var s=D(t.video);o.logInfo("OZONE: setting video object from the mediaTypes.video element: "+t.id+":",t.video,"wh=",s),s&&"object"===l(s)?(t.video.w=s.w,t.video.h=s.h,z(t.video)?(o.logInfo("OZONE: setting obj.video.format to be an array of objects"),t.video.format=[s]):(o.logInfo("OZONE: setting obj.video.format to be an object"),t.video.format=s)):o.logInfo("OZONE: cannot set w, h & format values for video; the config is not right")}e.mediaTypes.hasOwnProperty(i.c)&&(t.native=e.mediaTypes[i.c],o.logInfo("OZONE: setting native object from the mediaTypes.native element: "+t.id+":",t.native))}else e.hasOwnProperty("sizes")?(o.logInfo("OZONE: no mediaTypes detected - will use the sizes array in the config root"),a=e.sizes):o.logInfo("OZONE: no mediaTypes detected, no sizes array in the config root either. Cannot set sizes for banner type");if(a.length>0&&(t.banner={topframe:1,w:a[0][0]||0,h:a[0][1]||0,format:a.map((function(e){return{w:e[0],h:e[1]}}))}),t.placementId=n,t.ext={prebid:{storedrequest:{id:n}},ozone:{}},t.ext.ozone.adUnitCode=e.adUnitCode,t.ext.ozone.transactionId=e.transactionId,e.params.hasOwnProperty("customData")&&(t.ext.ozone.customData=e.params.customData),o.logInfo("obj.ext.ozone is ",t.ext.ozone),null!=f)if(o.logInfo("setting ozTestMode to ",f),t.ext.ozone.hasOwnProperty("customData"))for(var d=0;d<t.ext.ozone.customData.length;d++)t.ext.ozone.customData[d].targeting.oztestmode=f;else t.ext.ozone.customData=[{settings:{},targeting:{oztestmode:f}}];else o.logInfo("no ozTestMode ");return Object.keys(m).length===u.length?(e.params.hasOwnProperty("lotameData")?t.ext.ozone.lotameData=r.makeLotameObjectFromOverride(m,e.params.lotameData):t.ext.ozone.lotameData=r.makeLotameObjectFromOverride(m,{}),h=1):e.params.hasOwnProperty("lotameData")&&(r.isLotameDataValid(e.params.lotameData)?t.ext.ozone.lotameData=e.params.lotameData:(o.logError("INVALID LOTAME DATA FOUND - WILL NOT USE THIS AT ALL ELSE IT MIGHT BREAK THE AUCTION CALL!",e.params.lotameData),t.ext.ozone.lotameData={})),t})),I={ozone:{oz_pb_v:"2.3.0",oz_rw:O?1:0,oz_lot_rw:h}};if(e.length>0){var y=this.findAllUserIds(e[0]);y.hasOwnProperty("pubcid")&&(I.ozone.pubcid=y.pubcid)}var E=this.generateEids(e);if(d.site={publisher:{id:n.publisherId},page:document.location.href,id:n.siteId},d.test=g.hasOwnProperty("pbjs_debug")&&"true"==g.pbjs_debug?1:0,!0===a.b.getConfig("coppa")&&o.deepSetValue(d,"regs.coppa",1),s){o.logInfo("OZONE: buildRequests starting to generate response for a single request"),d.id=t.auctionId,d.auctionId=t.auctionId,d.imp=b,d.ext=I,d.source={tid:t.auctionId},o.deepSetValue(d,"user.ext.eids",E);var v={method:"POST",url:p,data:JSON.stringify(d),bidderRequest:t};return o.logInfo("OZONE: buildRequests ozoneRequest for single = ",d),o.logInfo("OZONE: buildRequests going to return for single: ",v),v}var A=b.map((function(e){o.logInfo("OZONE: buildRequests starting to generate non-single response, working on imp : ",e);var r=c({},d);return e.ext.ozone.pageAuctionId=t.auctionId,r.id=e.ext.ozone.transactionId,r.auctionId=e.ext.ozone.transactionId,r.imp=[e],r.ext=I,r.source={tid:e.ext.ozone.transactionId},o.deepSetValue(r,"user.ext.eids",E),o.logInfo("OZONE: buildRequests ozoneRequestSingle (for non-single) = ",r),{method:"POST",url:p,data:JSON.stringify(r),bidderRequest:t}}));return o.logInfo("OZONE: buildRequests going to return for non-single: ",A),A},interpretResponse:function(e,t){if(o.logInfo("OZONE: interpretResponse: serverResponse, request",e,t),!(e=e.body||{}).hasOwnProperty("seatbid"))return[];if("object"!==l(e.seatbid))return[];var r=[],n=a.b.getConfig("ozone.enhancedAdserverTargeting");o.logInfo("OZONE: enhancedAdserverTargeting",n),void 0===n&&(n=!0),o.logInfo("OZONE: enhancedAdserverTargeting",n),e.seatbid=O(e.seatbid);for(var s=0;s<e.seatbid.length;s++)for(var c=e.seatbid[s],u=function(a){var s,l=h(t.bidderRequest.bids[a]),u=l.defaultWidth,p=l.defaultHeight,g=A(c.bid[a],u,p);if(o.deepAccess(g,"ext.prebid.type")===i.d){o.logInfo("OZONE: going to attach a renderer to:",a);var f=(s=g,{url:"https://prebid.the-ozone-project.com/ozone-renderer.js",callback:function(){return function(e){try{e.renderer.setRender(N)}catch(e){o.logWarn("Prebid Error calling setRender on renderer",e)}}(s)}});g.renderer=d.a.install(f)}else o.logInfo("OZONE: bid is not a video, will not attach a renderer: ",a);var O=g.bidId,m={};if(n){var E=I(O,e.seatbid);o.logInfo("OZONE: Going to iterate allBidsForThisBidId",E),Object.keys(E).forEach((function(e,t,r){m["oz_"+e]=e,m["oz_"+e+"_pb"]=String(E[e].price),m["oz_"+e+"_crid"]=String(E[e].crid),m["oz_"+e+"_adv"]=String(E[e].adomain),m["oz_"+e+"_imp_id"]=String(E[e].impid),m["oz_"+e+"_adId"]=String(E[e].adId),m["oz_"+e+"_pb_r"]=y(E[e].price,E[e].ext.prebid.type),E[e].hasOwnProperty("dealid")&&(m["oz_"+e+"_dealid"]=String(E[e].dealid))}))}var v=b(O,e.seatbid),D=v.seat,z=v.bid;m.oz_auc_id=String(t.bidderRequest.auctionId),m.oz_winner=String(D),m.oz_response_id=String(e.id),n&&(m.oz_winner_auc_id=String(z.id),m.oz_winner_imp_id=String(z.impid),m.oz_pb_v="2.3.0"),g.adserverTargeting=m,r.push(g)},p=0;p<c.bid.length;p++)u(p);return o.logInfo("OZONE: interpretResponse going to return",r),r},getUserSyncs:function(e,t,r){if(o.logInfo("OZONE: getUserSyncs optionsType, serverResponse, gdprConsent, cookieSyncBag",e,t,r,this.cookieSyncBag),!t||0===t.length)return[];if(e.iframeEnabled){var n=[];document.location.search.match(/pbjs_debug=true/)&&n.push("pbjs_debug=true"),n.push("gdpr="+(o.deepAccess(r,"gdprApplies",!1)?"1":"0")),n.push("gdpr_consent="+o.deepAccess(r,"consentString",""));var i=Object.getOwnPropertyNames(this.cookieSyncBag.userIdObject);for(var a in i){var s=i[a];n.push(s+"="+this.cookieSyncBag.userIdObject[s])}n.push("publisherId="+this.cookieSyncBag.publisherId),n.push("siteId="+this.cookieSyncBag.siteId),n.push("cb="+Date.now());var d=n.join("&");return d.length>0&&(d="?"+d),o.logInfo("OZONE: getUserSyncs going to return cookie sync url : "+g+d),[{type:"iframe",url:g+d}]}},findAllUserIds:function(e){var t={},r=["pubcid","tdid","id5id","parrableid","idl_env","digitrustid","criteortus"];if(o.logInfo("OZONE: debug iterating keys"),o.logInfo("OZONE: debug bidRequest=",e),e.hasOwnProperty("userId")){for(var n in o.logInfo("OZONE: debug Looking inside userId element"),r){var i=r[n];o.logInfo("OZONE: debug key=",i),e.userId.hasOwnProperty(i)&&(o.logInfo("OZONE: debug found value : ",i),t[i]=e.userId[i])}var a=o.deepAccess(e.userId,"lipb.lipbid");a&&(t.lipb={lipbid:a})}if(!t.hasOwnProperty("pubcid")){var s=o.deepAccess(e,"crumbs.pubcid");s&&(t.pubcid=s)}return o.logInfo("OZONE: debug going to return: ",t),t},getLotameOverrideParams:function(){var e=this.getGetParametersAsObject();o.logInfo("getLotameOverrideParams - arrGet",e);var t={};for(var r in u)e.hasOwnProperty(u[r])&&(t[u[r]]=e[u[r]]);return t},isLotameDataValid:function(e){if(!e.hasOwnProperty("Profile"))return!1;var t=e.Profile;if(!t.hasOwnProperty("tpid"))return!1;if(!t.hasOwnProperty("pid"))return!1;var r=o.deepAccess(t,"Audiences.Audience");if("object"!=l(r))return!1;for(var n=0;n<r.length;n++){if(!r[n].hasOwnProperty("id"))return!1}return!0},makeLotameObjectFromOverride:function(e,t){return t.hasOwnProperty("Profile")&&Object.keys(t.Profile).length<3||!t.hasOwnProperty("Profile")?(o.logInfo("makeLotameObjectFromOverride","will return a full default lotame object"),{Profile:{tpid:e.oz_lotametpid,pid:e.oz_lotamepid,Audiences:{Audience:[{id:e.oz_lotameid,abbr:e.oz_lotameid}]}}}):o.deepAccess(t,"Profile.Audiences.Audience")?(o.logInfo("makeLotameObjectFromOverride","will return the existing lotame object with updated Audience by oz_lotameid"),t.Profile.Audiences.Audience=[{id:e.oz_lotameid,abbr:e.oz_lotameid}],t):(o.logInfo("makeLotameObjectFromOverride","Weird error - failed to find Profile.Audiences.Audience in lotame object. Will return the object as-is"),t)},getPlacementId:function(e){return e.params.placementId.toString()},getPlacementIdOverrideFromGetParam:function(){var e=this.getGetParametersAsObject();if(e.hasOwnProperty("ozstoredrequest")){if(this.isValidPlacementId(e.ozstoredrequest))return o.logInfo("OZONE: using GET ozstoredrequest "+e.ozstoredrequest+" to replace placementId"),e.ozstoredrequest;o.logError("OZONE: GET ozstoredrequest FAILED VALIDATION - will not use it")}return null},addExternalUserId:function(e,t,r,n){o.isStr(t)&&e.push({source:r,uids:[{id:t,atype:n}]})},generateEids:function(e){var t=[];this.handleTTDId(t,e);var r=e[0];return r&&r.userId&&(this.addExternalUserId(t,o.deepAccess(r,"userId.pubcid"),"pubcid",1),this.addExternalUserId(t,o.deepAccess(r,"userId.pubcid"),"pubcommon",1),this.addExternalUserId(t,o.deepAccess(r,"userId.id5id"),"id5-sync.com",1),this.addExternalUserId(t,o.deepAccess(r,"userId.criteortus.".concat("ozone",".userid")),"criteortus",1),this.addExternalUserId(t,o.deepAccess(r,"userId.idl_env"),"liveramp.com",1),this.addExternalUserId(t,o.deepAccess(r,"userId.lipb.lipbid"),"liveintent.com",1),this.addExternalUserId(t,o.deepAccess(r,"userId.parrableid"),"parrable.com",1)),t},handleTTDId:function(e,t){var r=null,n=a.b.getConfig("adsrvrOrgId");o.isStr(o.deepAccess(t,"0.userId.tdid"))?r=t[0].userId.tdid:n&&o.isStr(n.TDID)&&(r=n.TDID),null!==r&&e.push({source:"adserver.org",uids:[{id:r,atype:1,ext:{rtiPartner:"TDID"}}]})},getGetParametersAsObject:function(){for(var e=location.search.substr(1).split("&"),t={},r=null,o=0;o<e.length;o++)t[(r=e[o].split("="))[0]]=r[1];return t},blockTheRequest:function(e){var t=a.b.getConfig("ozone.oz_request");if("boolean"==typeof t&&!t)return o.logError("OZONE: Will not allow auction : ozone.oz_request is set to false"),!0;var r=a.b.getConfig("ozone.oz_enforceGdpr");return"boolean"==typeof r&&r?!!e.hasOwnProperty("gdprConsent")&&("string"!=typeof e.gdprConsent.consentString?(o.logError("OZONE: Will block the request - bidderRequest.gdprConsent.consentString is not a string"),!0):!!this.failsGdprCheck(e)):(o.logError("OZONE: Will not validate GDPR on the client : oz_enforceGdpr is not set to true"),!1)},failsGdprCheck:function(e){if("boolean"!=typeof e.gdprConsent.gdprApplies||e.gdprConsent.gdprApplies){var t=o.deepAccess(e.gdprConsent,"vendorData");if(!t||"object"!==l(t))return o.logError("OZONE: gdpr test failed - bidderRequest.gdprConsent.vendorData is not an array"),!0;if(!t.hasOwnProperty("purposeConsents"))return!0;if("object"!=l(t.purposeConsents))return!0;if(!this.purposeConsentsAreOk(t.purposeConsents))return o.logError("OZONE: gdpr test failed - missing Purposes consent"),!0;if(!t.vendorConsents[524])return o.logError("OZONE: gdpr test failed - missing Vendor ID consent"),!0}return!1},purposeConsentsAreOk:function(e){for(var t=1;t<=5;t++)if(!e.hasOwnProperty(t)||!e[t])return!1;return!0}};function O(e){o.logInfo("injectAdIdsIntoAllBidResponses",e);for(var t=0;t<e.length;t++)for(var r=e[t],n=0;n<r.bid.length;n++)r.bid[n].adId=r.bid[n].impid+"-"+t;return e}function m(e){return Array.isArray(e)&&Array.isArray(e[0])?e[0]:e}function h(e){if(!e)return o.logInfo("OZONE: defaultSize received empty bid obj! going to return fixed default size"),{defaultHeight:250,defaultWidth:300};var t=e.sizes,r={};return r.defaultWidth=m(t)[0],r.defaultHeight=m(t)[1],r}function b(e,t){for(var r=null,o=null,n=0;n<t.length;n++)for(var i=t[n].bid,a=t[n].seat,s=0;s<i.length;s++)if(i[s].impid===e&&(null==r||r.price<i[s].price)){r=i[s],o=a;break}return{seat:o,bid:r}}function I(e,t){for(var r={},o=0;o<t.length;o++)for(var n=t[o].bid,i=t[o].seat,a=0;a<n.length;a++)n[a].impid===e&&(r[i]=n[a]);return r}function y(e,t){var r=a.b.getConfig("mediaTypePriceGranularity.".concat(t)),n=a.b.getConfig("customPriceBucket"),i=a.b.getConfig("priceGranularity"),d=v(t,r,i,n),c=E(t,r,i);o.logInfo("OZONE: getRoundedBid. price:",e,"mediaType:",t,"configkey:",c,"configObject:",d,"mediaTypeGranularity:",r,"strBuckets:",i);var l=Object(s.a)(e,d,a.b.getConfig("currency.granularityMultiplier"));o.logInfo("OZONE: priceStringsObj",l);var u={medium:"med",custom:"custom",high:"high",low:"low",dense:"dense"};if(u.hasOwnProperty(c)){var p=u[c];return o.logInfo("OZONE: looking for priceStringsKey:",p),l[p]}return l.auto}function E(e,t,r){return"string"==typeof t?t:"object"===l(t)?"custom":"string"==typeof r?r:"auto"}function v(e,t,r,o){return"object"===l(t)?t:"custom"===r?o:""}function A(e,t,r){return e.cpm=e.price,e.bidId=e.impid,e.requestId=e.impid,e.width=e.w||t,e.height=e.h||r,e.ad=e.adm,e.netRevenue=!0,e.creativeId=e.crid,e.currency="USD",e.ttl=300,e}function N(e){window.ozoneVideo.outstreamRender(e)}function D(e){var t=P(e);return t?t[0]&&"object"===l(t[0])&&(o.logInfo("OZONE: getWidthAndHeightFromVideoObject found nested array inside playerSize.",t[0]),"number"!=typeof(t=t[0])[0]&&"string"!=typeof t[0])?(o.logInfo("OZONE: getWidthAndHeightFromVideoObject found non-number/string type inside the INNER array in playerSize. This is totally wrong - cannot continue.",t[0]),null):2!==t.length?(o.logInfo("OZONE: getWidthAndHeightFromVideoObject found playerSize with length of "+t.length+". This is totally wrong - cannot continue."),null):{w:t[0],h:t[1]}:null}function z(e){var t=P(e);return t?t.length<1?null:t[0]&&"object"===l(t[0]):null}function P(e){if(o.logInfo("OZONE: getPlayerSizeFromObject received object",e),!e.hasOwnProperty("playerSize"))return o.logError("OZONE: getPlayerSizeFromObject FAILED: no playerSize in video object",e),null;var t=e.playerSize;return"object"!==l(t)?(o.logError("OZONE: getPlayerSizeFromObject FAILED: playerSize is not an object/array",e),null):t}Object(n.registerBidder)(f),o.logInfo("OZONE: ozoneBidAdapter was loaded")},284:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var o=r(283),n=r.n(o),i=r(277),a={},s=["criteo","outstream","adagio","browsi"];function d(e,t,r){if(t&&e){if(n()(s,t))return a[e]?(r&&"function"==typeof r&&(a[e].loaded?r():a[e].callbacks.push(r)),a[e].tag):(a[e]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&a[e].callbacks.push(r),i.logWarn("module ".concat(t," is loading external JavaScript")),function(t,r){var o=document.createElement("script");o.type="text/javascript",o.async=!0,a[e].tag=o,o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,r())}:o.onload=function(){r()};return o.src=t,i.insertElement(o),o}(e,(function(){a[e].loaded=!0;try{for(var t=0;t<a[e].callbacks.length;t++)a[e].callbacks[t]()}catch(e){i.logError("Error executing callback","adloader.js:loadExternalScript",e)}})));i.logError("".concat(t," not whitelisted for loading external JavaScript"))}else i.logError("cannot load external script without url and moduleCode")}},287:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return c}));var o=r(284),n=r(277),i=r(286),a=r.n(i);function s(e){var t=this,r=e.url,i=e.config,s=e.id,d=e.callback,c=e.loaded,l=e.adUnitCode;this.url=r,this.config=i,this.handlers={},this.id=s,this.loaded=c,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):n.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=d||function(){t.loaded=!0,t.process()},!function(e){var t=pbjs.adUnits,r=a()(t,(function(t){return t.code===e}));return!!(r&&r.renderer&&r.renderer.url&&r.renderer.render)}(l)?Object(o.a)(r,"outstream",this.callback):n.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(l))}function d(e){return!(!e||!e.url)}function c(e,t){e.render(t)}s.install=function(e){return new s({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},s.prototype.getConfig=function(){return this.config},s.prototype.setRender=function(e){this.render=e},s.prototype.setEventHandlers=function(e){this.handlers=e},s.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),n.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(r))},s.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){n.logError("Error processing Renderer command: ",e)}}}}]);