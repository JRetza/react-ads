(window.webpackJsonpreact_ads=window.webpackJsonpreact_ads||[]).push([[262],{252:function(e,n,r){"use strict";r.r(n),r.d(n,"spec",(function(){return s}));var t=r(288),a=r(278);function c(e){if(!e)return null;var n=e.gdprApplies?"1":"0",r=e.consentString?e.consentString:"";return"gdpr=".concat(n,"&gdprstr=").concat(r)}var s={code:"undertone",isBidRequestValid:function(e){if(e&&e.params&&e.params.publisherId)return e.params.publisherId=parseInt(e.params.publisherId),!0},buildRequests:function(e,n){var r={"x-ut-hb-params":[],commons:{adapterVersion:"3.11.0",uids:e[0].userId}},a=n.refererInfo.referer,s=function(e){var n=null;try{var r=/[-\w]+\.([-\w]+|[-\w]{3,}|[-\w]{1,3}\.[-\w]{2})$/i.exec(e);if(null!=r&&r.length>0){n=r[0];for(var t=1;t<r.length;t++)r[t].length>n.length&&(n=r[t])}}catch(e){n=null}return n}(t.c(a).hostname),u=function(){try{var e=window.top.document.querySelector("link[rel='canonical']");if(null!==e)return e.href}catch(e){}return null}()||a,i=e[0].params.publisherId,d="".concat("https://hb.undertone.com/hb","?pid=").concat(i,"&domain=").concat(s),p=c(n.gdprConsent);return p&&(d+="&".concat(p)),n.uspConsent&&(d+="&ccpa=".concat(n.uspConsent)),e.map((function(e){var n={bidRequestId:e.bidId,hbadaptor:"prebid",url:u,domain:s,placementId:null!=e.params.placementId?e.params.placementId:null,publisherId:e.params.publisherId,sizes:e.sizes,params:e.params};r["x-ut-hb-params"].push(n)})),{method:"POST",url:d,withCredentials:!0,data:JSON.stringify(r)}},interpretResponse:function(e,n){var r=[],t=e.body;return t&&Array.isArray(t)&&t.length>0&&t.forEach((function(e){if(e.ad&&e.cpm>0){var n={requestId:e.bidRequestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.adId,currency:e.currency,netRevenue:e.netRevenue,ttl:e.ttl||360,ad:e.ad};r.push(n)}})),r},getUserSyncs:function(e,n,r,t){var a=[],s=c(r),u="",i="";return s&&(u+="?".concat(s),i+="&".concat(s)),t&&(u+=""!=u?"&":"?",u+="ccpa=".concat(t),i+="&ccpa=".concat(t)),e.iframeEnabled?a.push({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+u}):e.pixelEnabled&&a.push({type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=1&of=2"+i},{type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=2&of=2"+i}),a}};Object(a.registerBidder)(s)}}]);