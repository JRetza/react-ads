(window.webpackJsonpreact_ads=window.webpackJsonpreact_ads||[]).push([[92],{230:function(e,t,n){"use strict";n.r(t);var i=n(285),r=n(290),o=n(282),a=n(281),s=n(277),u=n(280),c=n(286),d=n.n(c),l=n(283),f=n.n(l);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var v=Object(a.b)(0),g=o.EVENTS,I=g.AUCTION_END,T=g.BID_REQUESTED,E=g.BID_ADJUSTMENT,m=g.BID_RESPONSE,S=g.BID_WON,O="https://pba.aws.lijit.com/analytics",N={},w=function(e){var t=e.err,n=e.topFrame,i="";if(t)try{try{i=window.top.location.href}catch(e){var r=window.location.ancestorOrigins;i=r[r.length-1]}}catch(e){i=n.document.referrer}else i=n.location.href;return i}(function(){var e=window;try{for(;e.parent.document!==e.document;){if(!e.parent.document)throw new Error;e=e.parent}}catch(e){}return{topFrame:e,err:!1}}()),A=b(Object(i.a)({url:O,analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;try{if(t===S)return void new _(this.sovrnId,n).send();if(n&&n.auctionId&&N[n.auctionId]&&"complete"===N[n.auctionId].status)throw new Error("Event Received after Auction Close Auction Id "+n.auctionId);switch(n&&n.auctionId&&void 0===N[n.auctionId]&&(N[n.auctionId]=new D(this.sovrnId,n.auctionId)),t){case T:N[n.auctionId].bidRequested(n);break;case E:N[n.auctionId].originalBid(n);break;case m:N[n.auctionId].adjustedBid(n);break;case I:N[n.auctionId].send()}}catch(e){new B(e,this.sovrnId,{eventType:t,args:n}).send()}}});A.getAuctions=function(){return N},A.originEnableAnalytics=A.enableAnalytics,A.enableAnalytics=function(e){var t="";e&&e.options&&(e.options.sovrnId||e.options.affiliateId)?(t=e.options.sovrnId||e.options.affiliateId,A.sovrnId=t,e.options.pbaUrl&&(O=e.options.pbaUrl),A.originEnableAnalytics(e)):s.logError("Need Sovrn Id to log auction results. Please contact a Sovrn representative if you do not know your Sovrn Id.")},r.default.registerAnalyticsAdapter({adapter:A,code:"sovrn"});var _=function(){function e(t,n){p(this,e),this.body={},this.body.prebidVersion="prebid_prebid_3.11.0",this.body.sovrnId=t,this.body.winningBid=JSON.parse(JSON.stringify(n)),this.body.url=w,this.body.payload="winner",delete this.body.winningBid.ad}return h(e,[{key:"send",value:function(){this.body.ts=s.timestamp(),v(O,null,JSON.stringify(this.body),{contentType:"application/json",method:"POST"})}}]),e}(),D=function(){function e(t,n){p(this,e),this.auction={},this.auction.prebidVersion="prebid_prebid_3.11.0",this.auction.sovrnId=t,this.auction.auctionId=n,this.auction.payload="auction",this.auction.timeouts={buffer:u.b.getConfig("timeoutBuffer"),bidder:u.b.getConfig("bidderTimeout")},this.auction.priceGranularity=u.b.getConfig("priceGranularity"),this.auction.url=w,this.auction.requests=[],this.auction.unsynced=[],this.dropBidFields=["auctionId","ad","requestId","bidderCode"],setTimeout((function(e){delete N[e]}),3e5,this.auction.auctionId)}return h(e,[{key:"bidRequested",value:function(e){var t=JSON.parse(JSON.stringify(e));delete t.doneCbCallCount,delete t.auctionId,this.auction.requests.push(t)}},{key:"findBid",value:function(e){var t=d()(this.auction.requests,(function(t){return t.bidderCode===e.bidderCode}));t||this.auction.unsynced.push(JSON.parse(JSON.stringify(e)));var n=d()(t.bids,(function(t){return t.bidId===e.requestId}));return n||(e.unmatched=!0,t.bids.push(JSON.parse(JSON.stringify(e)))),n}},{key:"originalBid",value:function(e){var t=this.findBid(e);t&&(b(t,JSON.parse(JSON.stringify(e))),this.dropBidFields.forEach((function(e){return delete t[e]})))}},{key:"adjustedBid",value:function(e){var t=this,n=this.findBid(e);n&&(n.originalValues=Object.keys(e).reduce((function(i,r){return JSON.stringify(n[r])===JSON.stringify(e[r])||f()(t.dropBidFields,r)||(i[r]=n[r],n[r]=e[r]),i}),{}))}},{key:"send",value:function(){var e=this,t={};this.auction.requests.forEach((function(e){e.bids.forEach((function(e){t[e.adUnitCode]=t[e.adUnitCode]||{cpm:0},e.cpm>t[e.adUnitCode].cpm&&(t[e.adUnitCode]=e)}))})),Object.keys(t).forEach((function(e){t[e].isAuctionWinner=!0})),this.auction.ts=s.timestamp(),v(O,(function(){N[e.auction.auctionId]={status:"complete",auctionId:e.auction.auctionId}}),JSON.stringify(this.auction),{contentType:"application/json",method:"POST"})}}]),e}(),B=function(){function e(t,n,i){p(this,e),this.error={},this.error.payload="error",this.error.message=t.message,this.error.stack=t.stack,this.error.data=i,this.error.prebidVersion="prebid_prebid_3.11.0",this.error.sovrnId=n,this.error.url=w,this.error.userAgent=navigator.userAgent}return h(e,[{key:"send",value:function(){this.error.data&&this.error.data.requests&&this.error.data.requests.forEach((function(e){e.bids&&e.bids.forEach((function(e){e.ad&&delete e.ad}))})),ErrorEvent.data&&this.error.data.ad&&delete this.error.data.ad,this.error.ts=s.timestamp(),v(O,null,JSON.stringify(this.error),{contentType:"application/json",method:"POST"})}}]),e}();t.default=A},285:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n(282),r=n(281);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(289),u=n(277),c=i.EVENTS,d=c.AUCTION_INIT,l=c.AUCTION_END,f=c.REQUEST_BIDS,p=c.BID_REQUESTED,y=c.BID_TIMEOUT,h=c.BID_RESPONSE,b=c.NO_BID,v=c.BID_WON,g=c.BID_ADJUSTMENT,I=c.BIDDER_DONE,T=c.SET_TARGETING,E=c.AD_RENDER_FAILED,m=c.ADD_AD_UNITS;function S(e){var t,n=e.url,i=e.analyticsType,c=e.global,S=e.handler,O=[],N=0,w=!0;return function(){if(w){for(var e=0;e<O.length;e++)O[e]();O.push=function(e){e()},w=!1}u.logMessage("event count sent to ".concat(c,": ").concat(N))}(),{track:function(e){var t=e.eventType,n=e.args;"bundle"===this.getAdapterType()&&window[c](S,t,n);"endpoint"===this.getAdapterType()&&A.apply(void 0,arguments)},enqueue:_,enableAnalytics:D,disableAnalytics:function(){u._each(t,(function(e,t){s.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:D},getAdapterType:function(){return i},getGlobal:function(){return c},getHandler:function(){return S},getUrl:function(){return n}};function A(e){var t=e.eventType,i=e.args,o=e.callback;Object(r.a)(n,o,JSON.stringify({eventType:t,args:i}))}function _(e){var t=e.eventType,n=e.args,i=this;c&&window[c]&&t&&n?this.track({eventType:t,args:n}):O.push((function(){N++,i.track({eventType:t,args:n})}))}function D(e){var n,i=this,r=this;"object"!==a(e)||"object"!==a(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(s.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==y&&_.call(r,{eventType:t,args:n})}})),o(n={},f,(function(e){return i.enqueue({eventType:f,args:e})})),o(n,p,(function(e){return i.enqueue({eventType:p,args:e})})),o(n,h,(function(e){return i.enqueue({eventType:h,args:e})})),o(n,b,(function(e){return i.enqueue({eventType:b,args:e})})),o(n,y,(function(e){return i.enqueue({eventType:y,args:e})})),o(n,v,(function(e){return i.enqueue({eventType:v,args:e})})),o(n,g,(function(e){return i.enqueue({eventType:g,args:e})})),o(n,I,(function(e){return i.enqueue({eventType:I,args:e})})),o(n,T,(function(e){return i.enqueue({eventType:T,args:e})})),o(n,l,(function(e){return i.enqueue({eventType:l,args:e})})),o(n,E,(function(e){return i.enqueue({eventType:E,args:e})})),o(n,m,(function(e){return i.enqueue({eventType:m,args:e})})),o(n,d,(function(t){t.config="object"===a(e)&&e.options||{},i.enqueue({eventType:d,args:t})})),t=n,u._each(t,(function(e,t){s.on(t,e)}))):u.logMessage('Analytics adapter for "'.concat(c,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return u.logMessage('Analytics adapter for "'.concat(c,'" already enabled, unnecessary call to `enableAnalytics`.'))}}}}}]);