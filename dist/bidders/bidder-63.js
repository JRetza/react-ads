(window.webpackJsonpreact_ads=window.webpackJsonpreact_ads||[]).push([[63],{271:function(e,n,t){"use strict";t.r(n),t.d(n,"spec",(function(){return c}));var i=t(277),r=t(280),a=t(278),d=t(287),o=t(279),c={code:"yieldone",aliases:["y1"],supportedMediaTypes:[o.b,o.d],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,n){return e.map((function(e){var t={v:"hb1",p:e.params.placementId,cb:Math.floor(99999999999*Math.random()),r:n.refererInfo.referer,uid:e.bidId,tid:e.transactionId,uc:e.adUnitCode,tmax:r.b.getConfig("bidderTimeout"),t:"i"},a=i.deepAccess(e,"mediaTypes.video");if(i.isEmpty(e.mediaType)&&i.isEmpty(e.mediaTypes)||e.mediaType===o.b||e.mediaTypes&&e.mediaTypes[o.b]){var d=i.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes;t.sz=i.parseSizesInput(d).join(",")}else if(e.mediaType===o.d||a){var c=i.deepAccess(e,"mediaTypes.video.playerSize")||e.sizes,s=i.parseSizesInput(c)[0];t.w=s.split("x")[0],t.h=s.split("x")[1]}return{method:"GET",url:"https://y.one.impact-ad.jp/h_bid",data:t}}))},interpretResponse:function(e,n){var t=[],a=e.body,c=a.crid||0,l=a.width||0,p=a.height||0,u=1e3*a.cpm||0;if(0!==l&&0!==p&&0!==u&&0!==c){var f=a.dealId||"",m=a.renderid||"",g=a.currency||"JPY",h=void 0===a.netRevenue||a.netRevenue,w=n.data.r||"",b={requestId:a.uid,cpm:u,width:a.width,height:a.height,creativeId:c,dealId:f,currency:g,netRevenue:h,ttl:r.b.getConfig("_bidderTimeout"),referrer:w};if(a.adTag&&"ViewableRendering"===m){b.mediaType=o.b;var y='\n        <script src="'.concat("https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/prebid-adformat-config.js",'"><\/script>\n        <script>\n        let width =').concat(b.width,";\n        let height =").concat(b.height,";\n        let adTag = `").concat(a.adTag.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/'/g,"\\'").replace(/"/g,'\\"'),'`;\n        let targetId ="').concat(n.data.uc,'";\n        window.YONEPBViewable = {};\n        window.YONEPBViewable.executed = false;\n        const viewablePercentage = window.pb_conf.viewablePercentage;\n        const viewableRange = height * 0.01 * viewablePercentage;\n        const iframe = document.createElement(\'iframe\');\n        iframe.setAttribute("style", "border: 0; margin: 0 auto; left: 0; top: 0; width:" + width + "px; height:" + height + "px;");\n        iframe.frameBorder = 0; iframe.scrolling = \'no\';\n        const inDap = document.createElement(\'script\');\n        inDap.innerHTML = "inDapIF = true;";\n        iframe.appendChild(inDap);\n        window.frameElement.parentElement.appendChild(iframe);\n        const doc = iframe.contentWindow ? iframe.contentWindow.document : iframe.contentDocument;\n        if(!window.parent.$sf){\n          let target = window.top.document.getElementById(targetId);\n          window.top.addEventListener(\'scroll\', () => {\n              const targetRect = target.getBoundingClientRect();\n              if (!window.YONEPBViewable.executed && window.top.innerHeight - targetRect.top > viewableRange) {\n                  window.YONEPBViewable.executed = true;\n                  doc.open(); doc.write(adTag); doc.close();\n                  window.frameElement.style.display = "none";\n              }\n            }, false);\n        }else{\n          let disp = function(){\n            if(!window.YONEPBViewable.executed && window.parent.$sf.ext.inViewPercentage() > viewablePercentage){\n                window.YONEPBViewable.executed = true;\n                doc.open(); doc.write(adTag); doc.close();\n                window.frameElement.style.display = "none";\n            }\n            let id = setTimeout(disp, 100);\n            if(window.YONEPBViewable.executed){clearTimeout(id);}\n          };\n          disp();\n        }\n        <\/script>\n        ');b.ad=y}else a.adTag?(b.mediaType=o.b,b.ad=a.adTag):a.adm&&(b.mediaType=o.d,b.vastXml=a.adm,b.renderer=function(e){var n=d.a.install({id:e.uid,url:"https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/dac-video-prebid.min.js",loaded:!1});try{n.setRender(s)}catch(e){i.logWarn("Prebid Error calling setRender on newRenderer",e)}return n}(a));t.push(b)}return t},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://y.one.impact-ad.jp/push_sync"}]}};function s(e){e.renderer.push((function(){window.DACIVTPREBID.renderPrebid(e)}))}Object(a.registerBidder)(c)},284:function(e,n,t){"use strict";t.d(n,"a",(function(){return c}));var i=t(283),r=t.n(i),a=t(277),d={},o=["criteo","outstream","adagio","browsi"];function c(e,n,t){if(n&&e){if(r()(o,n))return d[e]?(t&&"function"==typeof t&&(d[e].loaded?t():d[e].callbacks.push(t)),d[e].tag):(d[e]={loaded:!1,tag:null,callbacks:[]},t&&"function"==typeof t&&d[e].callbacks.push(t),a.logWarn("module ".concat(n," is loading external JavaScript")),function(n,t){var i=document.createElement("script");i.type="text/javascript",i.async=!0,d[e].tag=i,i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()};return i.src=n,a.insertElement(i),i}(e,(function(){d[e].loaded=!0;try{for(var n=0;n<d[e].callbacks.length;n++)d[e].callbacks[n]()}catch(e){a.logError("Error executing callback","adloader.js:loadExternalScript",e)}})));a.logError("".concat(n," not whitelisted for loading external JavaScript"))}else a.logError("cannot load external script without url and moduleCode")}},287:function(e,n,t){"use strict";t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return c})),t.d(n,"b",(function(){return s}));var i=t(284),r=t(277),a=t(286),d=t.n(a);function o(e){var n=this,t=e.url,a=e.config,o=e.id,c=e.callback,s=e.loaded,l=e.adUnitCode;this.url=t,this.config=a,this.handlers={},this.id=o,this.loaded=s,this.cmd=[],this.push=function(e){"function"==typeof e?n.loaded?e.call():n.cmd.push(e):r.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||function(){n.loaded=!0,n.process()},!function(e){var n=pbjs.adUnits,t=d()(n,(function(n){return n.code===e}));return!!(t&&t.renderer&&t.renderer.url&&t.renderer.render)}(l)?Object(i.a)(t,"outstream",this.callback):r.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(l))}function c(e){return!(!e||!e.url)}function s(e,n){e.render(n)}o.install=function(e){return new o({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},o.prototype.getConfig=function(){return this.config},o.prototype.setRender=function(e){this.render=e},o.prototype.setEventHandlers=function(e){this.handlers=e},o.prototype.handleVideoEvent=function(e){var n=e.id,t=e.eventName;"function"==typeof this.handlers[t]&&this.handlers[t](),r.logMessage("Prebid Renderer event for id ".concat(n," type ").concat(t))},o.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){r.logError("Error processing Renderer command: ",e)}}}}]);