(window.webpackJsonpreact_ads=window.webpackJsonpreact_ads||[]).push([[257],{244:function(e,r,i){"use strict";i.r(r),i.d(r,"spec",(function(){return o}));var t=i(277),n=i(278),s=i(304),a=i(279),d=i(282),o={code:"tribeos",supportedMediaTypes:[a.b],isBidRequestValid:function(e){return!t.isEmpty(e.params.placementId)||(t.logError("TRIBEOS: ","placementId is required, please contact tribeOS for placementId. Bid details: ",JSON.stringify(e)),!1)},buildRequests:function(e){for(var r=[],i=0;i<e.length;i++)r.push(this.buidRTBRequest(e[i]));return r},buidRTBRequest:function(e){var r=e.params.placementId,i=e.params.bidfloor,n=e.params.placementCode,s=e.mediaTypes.banner.sizes[0][0],a=e.mediaTypes.banner.sizes[0][1],d={id:t.getUniqueIdentifierStr(),imp:[{id:e.bidId,banner:{w:s,h:a},tagid:n,bidfloor:i}],site:{domain:window.location.host,page:window.location.href,publisher:{id:r}},device:{language:navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage,w:s,h:a,js:1,ua:navigator.userAgent}};e.gdprConsent&&(d.regs={ext:{gdpr:e.gdprConsent.gdprApplies?1:0}},d.user={ext:{consent:e.gdprConsent.consentString}}),d.bidId=e.bidId;var o="https://bidder-api-us-east.tribeos.io/prebid/"+r+"/requests";return t.isEmpty(e.params.endpointUrl)||(o=e.params.endpointUrl+r+"/requests"),{method:"POST",url:o,data:JSON.stringify(d),options:{withCredentials:!0,contentType:"application/json"}}},interpretResponse:function(e,r){var i=e.body;if(t.logInfo("TRIBEOS: ","response body: ",JSON.stringify(e)),!i||!i.id)return[];var n=[];return i.seatbid[0].bid.forEach((function(e){var a,o="";if(r){var p=s.a(1);if(o=r.placementCode,r.status=d.STATUS.GOOD,0===(a=parseFloat(e.price))){var u=s.a(2);return u.bidderCode="tribeos",n.push(u),t.logInfo("TRIBEOS: ","response price is zero. Response data: ",JSON.stringify(r)),n}p.placementCode=o,p.size=r.sizes,p.creativeId=e.crid,p.bidderCode="tribeos",p.cpm=a,p.ad=e.adm,p.width=parseInt(e.w),p.height=parseInt(e.h),p.currency=i.cur,p.netRevenue=!0,p.requestId=e.impid,p.ttl=180,t.logInfo("TRIBEOS: ","bid response data: ",JSON.stringify(p)),t.logInfo("TRIBEOS: ","bid request data: ",JSON.stringify(r)),n.push(p)}})),n}};Object(n.registerBidder)(o)}}]);