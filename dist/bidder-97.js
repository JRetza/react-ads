(window.webpackJsonp=window.webpackJsonp||[]).push([[97],{10:function(t,e,n){"use strict";n.r(e),n.d(e,"spec",(function(){return w}));var r=n(278),i=n(280),o=n(277);function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var a="https://ssc.33across.com/api/v1/hb",s={};function u(t){return!function(){try{return o.getWindowSelf()!==o.getWindowTop()}catch(t){return!0}}()&&null!==t}function c(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.w,i=n.h;return"visible"===e.document.visibilityState?m(t,e,{w:r,h:i}):0}function p(t){return document.getElementById(t)||document.getElementById(function(t){if(o.isGptPubadsDefined())for(var e=googletag.pubads().getSlots(),n=o.isSlotMatchingAdUnitCode(t),r=0;r<e.length;r++)if(n(e[r])){var i=e[r].getSlotElementId();return o.logInfo("[33Across Adapter] Map ad unit path to HTML element id: '".concat(t,"' -> ").concat(i)),i}return o.logWarn("[33Across Adapter] Unable to locate element for ad unit code: '".concat(t,"'")),null}(t))}function l(t){return{w:parseInt(t[0],10),h:parseInt(t[1],10)}}function h(t){return t.reduce((function(t,e){return e.h*e.w<t.h*t.w?e:t}))}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.w,r=e.h,i=t.getBoundingClientRect(),o=i.width,d=i.height,a=i.left,s=i.top,u=i.right,c=i.bottom;return(0===o||0===d)&&n&&r&&(o=n,d=r,u=a+n,c=s+r),{width:o,height:d,left:a,top:s,right:u,bottom:c}}function f(t){return o.isArray(t)&&2===t.length&&!o.isArray(t[0])?[l(t)]:t.map(l)}function b(t){for(var e={left:t[0].left,right:t[0].right,top:t[0].top,bottom:t[0].bottom},n=1;n<t.length;++n){if(e.left=Math.max(e.left,t[n].left),e.right=Math.min(e.right,t[n].right),e.left>=e.right)return null;if(e.top=Math.max(e.top,t[n].top),e.bottom=Math.min(e.bottom,t[n].bottom),e.top>=e.bottom)return null}return e.width=e.right-e.left,e.height=e.bottom-e.top,e}function m(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.w,i=n.h,o=g(t,{w:r,h:i}),d=b([{left:0,top:0,right:e.innerWidth,bottom:e.innerHeight},o]);return null!==d?d.width*d.height/(o.width*o.height)*100:0}function v(t){return function(e){var n=d({},e),r=n.imp=n.imp.map((function(t){return d({},t)})),i=r[0].banner=d({},r[0].banner),o=i.ext=d({},i.ext);return(o.ttx=d({},o.ttx)).viewability={amount:isNaN(t)?t:Math.round(t)},n}}var w={NON_MEASURABLE:"nm",code:"33across",isBidRequestValid:function(t){return"33across"===t.bidder&&void 0!==t.params&&(void 0!==t.params.siteId&&void 0!==t.params.productId)},buildRequests:function(t,e){var n=d({consentString:void 0,gdprApplies:!1},e&&e.gdprConsent),r=e&&e.refererInfo?e.refererInfo.referer:void 0;return s.uniqueSiteIds=t.map((function(t){return t.params.siteId})).filter(o.uniques),t.map((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r={},s=t.params,l=p(t.adUnitCode),g=f(t.sizes),b=h(g),m=u(l)?c(l,o.getWindowTop(),b):"nm",w=v(m);r.imp=[],r.imp[0]={banner:{format:g.map((function(t){return d(t,{ext:{}})}))},ext:{ttx:{prod:s.productId}}},r.site={id:s.siteId},n&&(r.site.page=n),r.id=t.bidId,r.user={ext:{consent:e.consentString}},r.regs={ext:{gdpr:!0===e.gdprApplies?1:0}},r.ext={ttx:{prebidStartedAt:Date.now(),caller:[{name:"prebidjs",version:"3.11.0"}]}},1===s.test&&(r.test=1);var I={contentType:"text/plain",withCredentials:!0},y=i.b.getConfig("ttxSettings"),x=y&&y.url||a;return{method:"POST",url:x,data:JSON.stringify(w(r)),options:I}}(t,n,r)}))},interpretResponse:function(t,e){var n,r=[];return t.body.seatbid.length>0&&t.body.seatbid[0].bid.length>0&&r.push({requestId:(n=t.body).id,bidderCode:"33across",cpm:n.seatbid[0].bid[0].price,width:n.seatbid[0].bid[0].w,height:n.seatbid[0].bid[0].h,ad:n.seatbid[0].bid[0].adm,ttl:n.seatbid[0].bid[0].ttl||60,creativeId:n.seatbid[0].bid[0].crid,currency:n.cur,netRevenue:!0}),r},getUserSyncs:function(t,e,n){return t.iframeEnabled?s.uniqueSiteIds.map((function(t){return function(t){var e=t.siteId,n=void 0===e?"zzz000000000003zzz":e,r=t.gdprConsent,o=void 0===r?{}:r,d=i.b.getConfig("ttxSettings"),a=d&&d.syncUrl||"https://ssc-cms.33across.com/ps/?m=xch&rt=html&ru=deb",s=o.consentString,u=o.gdprApplies,c={type:"iframe",url:"".concat(a,"&id=").concat(n,"&gdpr_consent=").concat(encodeURIComponent(s))};return"boolean"==typeof u&&(c.url+="&gdpr=".concat(Number(u))),c}({gdprConsent:n,siteId:t})})):[]}};Object(r.registerBidder)(w)}}]);