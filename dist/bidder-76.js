(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{123:function(e,r,i){"use strict";i.r(r),i.d(r,"spec",(function(){return u}));var t=i(16),a=i(0),n=i(55),d=i(13);function s(){return(s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e}).apply(this,arguments)}var o=1,p=2,c=3,u={code:"aja",supportedMediaTypes:[d.d,d.b,d.c],isBidRequestValid:function(e){return!!e.params.asi},buildRequests:function(e,r){for(var i=[],t=0,n=e.length;t<n;t++){var d=e[t],s="",o=a.getBidIdParameter("asi",d.params);s=a.tryAppendQueryString(s,"asi",o),s=a.tryAppendQueryString(s,"skt",5),s=a.tryAppendQueryString(s,"prebid_id",d.bidId),s=a.tryAppendQueryString(s,"prebid_ver","3.11.0"),r&&r.refererInfo&&(s=a.tryAppendQueryString(s,"page_url",r.refererInfo.referer)),i.push({method:"GET",url:"https://ad.as.amanad.adtdp.com/v2/prebid",data:s})}return i},interpretResponse:function(e,r){var i=e.body;if(!i.is_ad_return)return[];var t=i.ad,n={requestId:t.prebid_id,cpm:t.price,creativeId:t.creative_id,dealId:t.deal_id,currency:t.currency||"USD",netRevenue:!0,ttl:300};if(c===t.ad_type){var u=i.ad.video;s(n,{vastXml:u.vtag,width:u.w,height:u.h,renderer:l(i),adResponse:i,mediaType:d.d})}else if(o===t.ad_type){var h=i.ad.banner;s(n,{width:h.w,height:h.h,ad:h.tag,mediaType:d.b});try{h.imps.forEach((function(e){var r=a.createTrackPixelHtml(e);n.ad+=r}))}catch(e){a.logError("Error appending tracking pixel",e)}}else if(p===t.ad_type){t.native.template_and_ads.ads.forEach((function(e){var r=e.assets;s(n,{mediaType:d.c}),n.native={title:r.title,body:r.description,cta:r.cta_text,sponsoredBy:r.sponsor,clickUrl:r.lp_link,impressionTrackers:e.imps,privacyLink:r.adchoice_url},void 0!==r.img_main&&(n.native.image={url:r.img_main,width:parseInt(r.img_main_width,10),height:parseInt(r.img_main_height,10)}),void 0!==r.img_icon&&(n.native.icon={url:r.img_icon,width:parseInt(r.img_icon_width,10),height:parseInt(r.img_icon_height,10)})}))}return[n]},getUserSyncs:function(e,r){var i=[];if(!r.length)return i;var t=r[0].body;return e.pixelEnabled&&t.syncs&&t.syncs.forEach((function(e){i.push({type:"image",url:e})})),e.iframeEnabled&&t.sync_htmls&&t.sync_htmls.forEach((function(e){i.push({type:"iframe",url:e})})),i}};function l(e){var r=t.a.install({id:e.ad.prebid_id,url:e.ad.video.purl,loaded:!1});try{r.setRender(h)}catch(e){a.logWarn("Prebid Error calling setRender on newRenderer",e)}return r}function h(e){e.renderer.push((function(){window.aja_vast_player.init({vast_tag:e.adResponse.ad.video.vtag,ad_unit_code:e.adUnitCode,width:e.width,height:e.height,progress:e.adResponse.ad.video.progress,loop:e.adResponse.ad.video.loop,inread:e.adResponse.ad.video.inread})}))}Object(n.registerBidder)(u)}}]);