(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{217:function(e,t,n){"use strict";n.r(t);var a=n(285),o=n.n(a),r=n(287),i=n(284),s=n(292);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var u=n(279),l=i.EVENTS.AUCTION_INIT,f=i.EVENTS.AUCTION_END,g=i.EVENTS.BID_WON,p=i.EVENTS.BID_REQUESTED,y=i.EVENTS.BID_ADJUSTMENT,d=i.EVENTS.BID_RESPONSE,v={publisherIds:[],utmTagData:[],adUnits:[]},T={options:{},events:[]},m={options:{},events:[]},b="not_started",E=["utm_source","utm_medium","utm_campaign","utm_term","utm_content"];function h(){return"sigmoid_analytics_".concat("session_id")}function S(){return"sigmoid_analytics_".concat("session_timeout")}function _(){if(t=localStorage.getItem(S()),Date.now()-t>36e5){var e=u.generateUUID();localStorage.setItem(h(),e)}var t;v.sessionId=localStorage.getItem(h())?localStorage.getItem(h()):"",localStorage.setItem(S(),Date.now())}function I(){localStorage.setItem(D(),Date.now())}function D(){return"sigmoid_analytics_".concat("utm_timeout")}function A(e){return"sigmoid_analytics_".concat(e)}function N(){return void 0!==v.adUnits&&v.adUnits.length>0}var U=c(Object(r.a)({url:"https://kinesis.us-east-1.amazonaws.com/",analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;if(void 0!==v.publisherIds&&v.publisherIds.length>0){var a=c({},n);if(a&&a.ad&&(a.ad=""),t===l&&(b="started"),t===g&&"not_started"===b)return _(),function(e,t){T.options=v,N()?o()(v.adUnits,t.adUnitCode)&&(T.events=[{args:t,eventType:e}]):T.events=[{args:t,eventType:e}]}(t,a),void(T.events.length>0&&w(t,T,"bidWon"));t===f?(_(),m.options=v,m.events.length>0&&m.events.some((function(e){return p===e.eventType||g===e.eventType}))&&w(t,m,"eventStack"),b="not_started"):function(e,t){e===p?(N()&&(t.bids=(n=t.bids,a=[],n.forEach((function(e){o()(v.adUnits,e.placementCode)&&a.push(e)})),a)),t.bids.length>0&&m.events.push({eventType:e,args:t})):function(e,t){if(N()){var n=[y,d,g];if(!o()(v.adUnits,t)&&o()(n,e))return!1}return!0}(e,t.adUnitCode)&&m.events.push({eventType:e,args:t});var n,a}(t,a)}}});function w(e,t,n){AWS.config.credentials=new AWS.Credentials({accessKeyId:"accesskey",secretAccessKey:"secretkey"}),AWS.config.region="us-east-1",AWS.config.credentials.get((function(e){if(e)u.logError(e);else{var a=new AWS.Kinesis({apiVersion:"2013-12-02"}),o=[],r={};r.Data=JSON.stringify(t)+"\n",r.PartitionKey="partition-"+Math.random().toString(36).substring(7),o.push(r),a.putRecords({Records:o,StreamName:"sample-stream"}),"eventStack"===n&&(m.events=[])}}))}U.originEnableAnalytics=U.enableAnalytics,U.enableAnalytics=function(e){(v=e.options).utmTagData=this.buildUtmTagData(),u.logInfo("Sigmoid Analytics enabled with config",v),U.originEnableAnalytics(e)},U.buildUtmTagData=function(){var e={},t=!1;return E.forEach((function(n){var a,o,r=(a=n,o={},window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,(function(e,t,n){o[t]=void 0!==n?n:""})),o[a]?o[a]:"");""!==r&&(t=!0),e[n]=r})),E.forEach((function(n){var a;t?(localStorage.setItem(A(n),e[n]),I()):(a=localStorage.getItem(D()),Date.now()-a>36e5||(e[n]=localStorage.getItem(A(n))?localStorage.getItem(A(n)):"",I()))})),e},s.default.registerAnalyticsAdapter({adapter:U,code:"sigmoid"}),t.default=U},287:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(284),o=n(283);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(291),c=n(279),u=a.EVENTS,l=u.AUCTION_INIT,f=u.AUCTION_END,g=u.REQUEST_BIDS,p=u.BID_REQUESTED,y=u.BID_TIMEOUT,d=u.BID_RESPONSE,v=u.NO_BID,T=u.BID_WON,m=u.BID_ADJUSTMENT,b=u.BIDDER_DONE,E=u.SET_TARGETING,h=u.AD_RENDER_FAILED,S=u.ADD_AD_UNITS;function _(e){var t,n=e.url,a=e.analyticsType,u=e.global,_=e.handler,I=[],D=0,A=!0;return function(){if(A){for(var e=0;e<I.length;e++)I[e]();I.push=function(e){e()},A=!1}c.logMessage("event count sent to ".concat(u,": ").concat(D))}(),{track:function(e){var t=e.eventType,n=e.args;"bundle"===this.getAdapterType()&&window[u](_,t,n);"endpoint"===this.getAdapterType()&&N.apply(void 0,arguments)},enqueue:U,enableAnalytics:w,disableAnalytics:function(){c._each(t,(function(e,t){s.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:w},getAdapterType:function(){return a},getGlobal:function(){return u},getHandler:function(){return _},getUrl:function(){return n}};function N(e){var t=e.eventType,a=e.args,r=e.callback;Object(o.a)(n,r,JSON.stringify({eventType:t,args:a}))}function U(e){var t=e.eventType,n=e.args,a=this;u&&window[u]&&t&&n?this.track({eventType:t,args:n}):I.push((function(){D++,a.track({eventType:t,args:n})}))}function w(e){var n,a=this,o=this;"object"!==i(e)||"object"!==i(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(s.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==y&&U.call(o,{eventType:t,args:n})}})),r(n={},g,(function(e){return a.enqueue({eventType:g,args:e})})),r(n,p,(function(e){return a.enqueue({eventType:p,args:e})})),r(n,d,(function(e){return a.enqueue({eventType:d,args:e})})),r(n,v,(function(e){return a.enqueue({eventType:v,args:e})})),r(n,y,(function(e){return a.enqueue({eventType:y,args:e})})),r(n,T,(function(e){return a.enqueue({eventType:T,args:e})})),r(n,m,(function(e){return a.enqueue({eventType:m,args:e})})),r(n,b,(function(e){return a.enqueue({eventType:b,args:e})})),r(n,E,(function(e){return a.enqueue({eventType:E,args:e})})),r(n,f,(function(e){return a.enqueue({eventType:f,args:e})})),r(n,h,(function(e){return a.enqueue({eventType:h,args:e})})),r(n,S,(function(e){return a.enqueue({eventType:S,args:e})})),r(n,l,(function(t){t.config="object"===i(e)&&e.options||{},a.enqueue({eventType:l,args:t})})),t=n,c._each(t,(function(e,t){s.on(t,e)}))):c.logMessage('Analytics adapter for "'.concat(u,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return c.logMessage('Analytics adapter for "'.concat(u,'" already enabled, unnecessary call to `enableAnalytics`.'))}}}}}]);