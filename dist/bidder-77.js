(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{139:function(e,n,t){"use strict";t.r(n);var i=t(285),o=t(290),r=t(282),a=t(277);function s(){return(s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var c=r.EVENTS,u=c.BID_REQUESTED,d=c.BID_TIMEOUT,l=c.BID_RESPONSE,g=c.BID_WON,p={rtaFunctionName:"rta",getAdUnitName:function(e){return e},getPlacementOrAdUnitCode:function(e,n){return"0"===n[0]?e.placementCode:e.adUnitCode},googlePublisherTag:!1,wireGooglePublisherTag:function(e,n){e.pubads().addEventListener("slotRenderEnded",(function(e){n(e.slot)}))},prebidWinnersCache:{},prebidBidResponsesCache:{},isPrebidAdImpression:function(e){var n=e.getTargeting("hb_adid");if(n.length>0){var t=n[0];return void 0!==this.prebidWinnersCache[t]}return!1},getHighestPrebidAdImpressionPartner:function(e,n,t){var i=b(e,n,t);return i?i.bidderCode||i.bidder:null},getHighestPrebidAdImpressionValue:function(e,n,t){var i=b(e,n,t);return i?i.cpm:null},getAdUnitNameByGooglePublisherTagSlot:function(e,n){throw"Required when googlePublisherTag is defined."},postProcessResolution:function(e,n,t,i,o){return e}},f=function(e){return isNaN(e)?0:Math.round(1e3*e)},b=function(e,n,t){var i=n.getTargeting("hb_adid");if(i.length>0){var o=i[0];return e.prebidWinnersCache[o]||e.prebidBidResponsesCache[o]}return null},m=s(Object(i.a)({analyticsType:"bundle"}),{track:function(e){var n=e.eventType,t=e.args;switch(n){case u:t.bids.forEach((function(e){try{window[m.instanceConfig.rtaFunctionName]("bidRequested",m.instanceConfig.getAdUnitName(m.instanceConfig.getPlacementOrAdUnitCode(e,"3.11.0")),t.bidderCode)}catch(e){a.logError(e)}}));break;case l:m.instanceConfig.prebidBidResponsesCache[t.adId]=t;var i="Bid available"===t.statusMessage?t.cpm:null;try{window[m.instanceConfig.rtaFunctionName]("addBid",m.instanceConfig.getAdUnitName(m.instanceConfig.getPlacementOrAdUnitCode(t,"3.11.0")),t.bidder||"unknown",f(i),void 0===t.bidder,"Bid available"!==t.statusMessage)}catch(e){a.logError(e)}break;case d:window[m.instanceConfig.rtaFunctionName]("biddersTimeout",t);break;case g:if(m.instanceConfig.prebidWinnersCache[t.adId]=t,m.instanceConfig.googlePublisherTag)break;try{if(!m.instanceConfig.getAdUnitName(m.instanceConfig.getPlacementOrAdUnitCode(t,"3.11.0"))){a.logError("Cannot find ad by unit name: "+m.instanceConfig.getAdUnitName(m.instanceConfig.getPlacementOrAdUnitCode(t,"3.11.0")));break}if(!t.bidderCode||!t.cpm){a.logError("Bidder code or cpm is not valid");break}var o={targetings:[],prebidWon:!0};o.prebidPartner=t.bidderCode,o.prebidValue=f(parseFloat(t.cpm));var r=m.instanceConfig.postProcessResolution(o,null,o.prebidPartner,o.prebidValue,"3.11.0");window[m.instanceConfig.rtaFunctionName]("resolveSlot",m.instanceConfig.getAdUnitName(m.instanceConfig.getPlacementOrAdUnitCode(t,"3.11.0")),r)}catch(e){a.logError(e)}}}});m.originEnableAnalytics=m.enableAnalytics,m.enableAnalytics=function(e){if(e&&e.provider&&"liveyield"===e.provider)if(e.options)if(e.options.customerId)if(e.options.customerName)if(e.options.customerSite)if(e.options.sessionTimezoneOffset)if(m.instanceConfig=s({prebidWinnersCache:{},prebidBidResponsesCache:{}},p,e.options),"function"==typeof window[m.instanceConfig.rtaFunctionName]){m.instanceConfig.googlePublisherTag&&m.instanceConfig.wireGooglePublisherTag(m.instanceConfig.googlePublisherTag,y(m.instanceConfig));var n={customerTimezone:e.options.customerTimezone,contentId:e.options.contentId,contentPart:e.options.contentPart,contentAuthor:e.options.contentAuthor,contentTitle:e.options.contentTitle,contentCategory:e.options.contentCategory,contentLayout:e.options.contentLayout,contentVariants:e.options.contentVariants,contentTimezone:e.options.contentTimezone,cstringDim1:e.options.cstringDim1,cstringDim2:e.options.cstringDim2,cintDim1:e.options.cintDim1,cintDim2:e.options.cintDim2,cintArrayDim1:e.options.cintArrayDim1,cintArrayDim2:e.options.cintArrayDim2,cuniqueStringMet1:e.options.cuniqueStringMet1,cuniqueStringMet2:e.options.cuniqueStringMet2,cavgIntMet1:e.options.cavgIntMet1,cavgIntMet2:e.options.cavgIntMet2,csumIntMet1:e.options.csumIntMet1,csumIntMet2:e.options.csumIntMet2};Object.keys(n).forEach((function(e){return null==n[e]&&delete n[e]})),window[m.instanceConfig.rtaFunctionName]("create",e.options.customerId,e.options.customerName,e.options.customerSite,e.options.sessionTimezoneOffset,n),m.originEnableAnalytics(e)}else a.logError("Function ".concat(m.instanceConfig.rtaFunctionName," is not defined.")+"Make sure that LiveYield snippet in included before the Prebid Analytics configuration.");else a.logError("options.sessionTimezoneOffset is required");else a.logError("options.customerSite is required");else a.logError("options.customerName is required");else a.logError("options.customerId is required");else a.logError("options must be defined");else a.logError("expected config.provider to equal liveyield")};var y=function(e){return function(n){var t={targetings:[]};!function(e,n){var t=n.getResponseInformation();t&&(e.dfpAdvertiserId=t.advertiserId,e.dfpLineItemId=t.sourceAgnosticLineItemId,e.dfpCreativeId=t.creativeId)}(t,n),function(n,t){e.isPrebidAdImpression(t)&&(n.prebidWon=!0);var i=e.getHighestPrebidAdImpressionPartner(e,t,"3.11.0"),o=e.getHighestPrebidAdImpressionValue(e,t,"3.11.0");i&&(n.prebidPartner=i),o&&(n.prebidValue=f(parseFloat(o)))}(t,n);var i=e.postProcessResolution(t,n,t.highestPrebidAdImpPartner,t.highestPrebidAdImpValue,"3.11.0");window[e.rtaFunctionName]("resolveSlot",e.getAdUnitNameByGooglePublisherTagSlot(n,"3.11.0"),i)}};o.default.registerAnalyticsAdapter({adapter:m,code:"liveyield"}),n.default=m},285:function(e,n,t){"use strict";t.d(n,"a",(function(){return I}));var i=t(282),o=t(281);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=t(289),c=t(277),u=i.EVENTS,d=u.AUCTION_INIT,l=u.AUCTION_END,g=u.REQUEST_BIDS,p=u.BID_REQUESTED,f=u.BID_TIMEOUT,b=u.BID_RESPONSE,m=u.NO_BID,y=u.BID_WON,v=u.BID_ADJUSTMENT,h=u.BIDDER_DONE,T=u.SET_TARGETING,A=u.AD_RENDER_FAILED,C=u.ADD_AD_UNITS;function I(e){var n,t=e.url,i=e.analyticsType,u=e.global,I=e.handler,E=[],N=0,P=!0;return function(){if(P){for(var e=0;e<E.length;e++)E[e]();E.push=function(e){e()},P=!1}c.logMessage("event count sent to ".concat(u,": ").concat(N))}(),{track:function(e){var n=e.eventType,t=e.args;"bundle"===this.getAdapterType()&&window[u](I,n,t);"endpoint"===this.getAdapterType()&&D.apply(void 0,arguments)},enqueue:w,enableAnalytics:S,disableAnalytics:function(){c._each(n,(function(e,n){s.off(n,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:S},getAdapterType:function(){return i},getGlobal:function(){return u},getHandler:function(){return I},getUrl:function(){return t}};function D(e){var n=e.eventType,i=e.args,r=e.callback;Object(o.a)(t,r,JSON.stringify({eventType:n,args:i}))}function w(e){var n=e.eventType,t=e.args,i=this;u&&window[u]&&n&&t?this.track({eventType:n,args:t}):E.push((function(){N++,i.track({eventType:n,args:t})}))}function S(e){var t,i=this,o=this;"object"!==a(e)||"object"!==a(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(s.getEvents().forEach((function(e){if(e){var n=e.eventType,t=e.args;n!==f&&w.call(o,{eventType:n,args:t})}})),r(t={},g,(function(e){return i.enqueue({eventType:g,args:e})})),r(t,p,(function(e){return i.enqueue({eventType:p,args:e})})),r(t,b,(function(e){return i.enqueue({eventType:b,args:e})})),r(t,m,(function(e){return i.enqueue({eventType:m,args:e})})),r(t,f,(function(e){return i.enqueue({eventType:f,args:e})})),r(t,y,(function(e){return i.enqueue({eventType:y,args:e})})),r(t,v,(function(e){return i.enqueue({eventType:v,args:e})})),r(t,h,(function(e){return i.enqueue({eventType:h,args:e})})),r(t,T,(function(e){return i.enqueue({eventType:T,args:e})})),r(t,l,(function(e){return i.enqueue({eventType:l,args:e})})),r(t,A,(function(e){return i.enqueue({eventType:A,args:e})})),r(t,C,(function(e){return i.enqueue({eventType:C,args:e})})),r(t,d,(function(n){n.config="object"===a(e)&&e.options||{},i.enqueue({eventType:d,args:n})})),n=t,c._each(n,(function(e,n){s.on(n,e)}))):c.logMessage('Analytics adapter for "'.concat(u,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return c.logMessage('Analytics adapter for "'.concat(u,'" already enabled, unnecessary call to `enableAnalytics`.'))}}}}}]);