(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{287:function(n,i,e){"use strict";e.r(i),e.d(i,"isSchainObjectValid",(function(){return r})),e.d(i,"isValidSchainConfig",(function(){return d})),e.d(i,"makeBidRequestsHook",(function(){return b})),e.d(i,"init",(function(){return f}));var t=e(2),c=e(11),o=e(0),s={STRICT:"strict",RELAXED:"relaxed",OFF:"off"},a=[];function r(n,i){var e="Detected something wrong within an schain config:",t="";function c(n){t+="\n"+n}function s(){!0===i?Object(o.logError)(e,n,t):Object(o.logWarn)(e,n,t)}if(!Object(o.isPlainObject)(n)&&(c("schain.config should be an object"),s(),i))return!1;if(Object(o.isNumber)(n.complete)&&Object(o.isInteger)(n.complete)||c("schain.config.complete should be an Integer"),Object(o.isStr)(n.ver)||c("schain.config.ver should be a string"),Object(o.hasOwn)(n,"ext")&&(Object(o.isPlainObject)(n.ext)||c("schain.config.ext should be an object")),Object(o.isArray)(n.nodes))n.nodes.forEach((function(n,i){Object(o.isStr)(n.asi)||c("schain.config.nodes[".concat(i,"].asi")+" should be a string"),Object(o.isStr)(n.sid)||c("schain.config.nodes[".concat(i,"].sid")+" should be a string"),Object(o.isNumber)(n.hp)&&Object(o.isInteger)(n.hp)||c("schain.config.nodes[".concat(i,"].hp")+" should be an Integer"),Object(o.hasOwn)(n,"rid")&&(Object(o.isStr)(n.rid)||c("schain.config.nodes[".concat(i,"].rid")+" should be a string")),Object(o.hasOwn)(n,"name")&&(Object(o.isStr)(n.name)||c("schain.config.nodes[".concat(i,"].name")+" should be a string")),Object(o.hasOwn)(n,"domain")&&(Object(o.isStr)(n.domain)||c("schain.config.nodes[".concat(i,"].domain")+" should be a string")),Object(o.hasOwn)(n,"ext")&&(Object(o.isPlainObject)(n.ext)||c("schain.config.nodes[".concat(i,"].ext")+" should be an object"))}));else if(c("schain.config.nodes should be an Array"),s(),i)return!1;return!(t.length>0&&(s(),i))}function d(n){return void 0!==n&&(!!Object(o.isPlainObject)(n)||(Object(o.logError)("Invalid schain object found: the following schain config will not be used as schain is not an object.",n),!1))}function b(n,i){var e=t.b.getConfig("schain"),c=t.b.getBidderConfig();i.forEach((function(n){var i=n.bidderCode,t=function(n){return c[n]&&c[n].schain||e}(i);n.bids.forEach((function(n){var e=function(n,i){var e=s.STRICT;if(d(n)){if(Object(o.isStr)(n.validation)&&-1!=a.indexOf(n.validation)&&(e=n.validation),e===s.OFF)return n.config;if(r(n.config,!(e!==s.STRICT)))return n.config;Object(o.logError)("Invalid schain object found: "+"due to the 'strict' validation setting, this schain config will not be passed to bidder '".concat(i,"'.  See above error for details."))}return null}(t,i);e&&(n.schain=e)}))})),n(i)}function f(){c.default.makeBidRequests.after(b)}Object(o._each)(s,(function(n){return a.push(n)})),f()}}]);