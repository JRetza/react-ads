(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{112:function(e,r,t){"use strict";t.r(r),t.d(r,"helper",(function(){return u})),t.d(r,"spec",(function(){return p}));var n=t(277),a=t(278),i=t(280),o=t(287),d=t(279);function s(){return(s=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}var c="https://rtb.gamoshi.io",u={getTopFrame:function(){try{return window.top===window?1:0}catch(e){}return 0},startsWith:function(e,r){return e.substr(0,r.length)===r},getTopWindowDomain:function(e){var r=e.indexOf("://")+"://".length;return e.substring(r,e.indexOf("/",r)<0?e.length:e.indexOf("/",r))},getMediaType:function(e){return e.ext?e.ext.media_type?e.ext.media_type.toLowerCase():e.ext.vast_url?d.d:d.b:d.b}},p={code:"gamoshi",aliases:["gambid","cleanmedia","9MediaOnline","adtarget"],supportedMediaTypes:["banner","video"],isBidRequestValid:function(e){return!!e.params.supplyPartnerId&&n.isStr(e.params.supplyPartnerId)&&(!e.params.rtbEndpoint||n.isStr(e.params.rtbEndpoint))&&(!e.params.bidfloor||n.isNumber(e.params.bidfloor))&&(!e.params.adpos||n.isNumber(e.params.adpos))&&(!e.params.protocols||Array.isArray(e.params.protocols))&&(!e.params.instl||0===e.params.instl||1===e.params.instl)},buildRequests:function(e,r){var t=this;return e.map((function(a){var o=a.adUnitCode,p=a.auctionId,l=a.mediaTypes,f=a.params,g=a.sizes,m=a.transactionId,y=f.rtbEndpoint||c,v="".concat(y,"/r/").concat(f.supplyPartnerId,"/bidr?rformat=open_rtb&reqformat=rtb_json&bidder=prebid")+(f.query?"&"+f.query:""),b=i.b.getConfig("pageUrl")||r.refererInfo.referer,x={id:p,site:{domain:u.getTopWindowDomain(b),page:b,ref:r.refererInfo.referer},device:{ua:navigator.userAgent,dnt:n.getDNT()?1:0,h:screen.height,w:screen.width,language:navigator.language},imp:[],ext:{},user:{ext:{}},source:{ext:{}},regs:{ext:{}}},w=r.gdprConsent;w&&w.consentString&&w.gdprApplies&&(x.ext.gdpr_consent={consent_string:w.consentString,consent_required:w.gdprApplies},n.deepSetValue(x,"regs.ext.gdpr",!0===w.gdprApplies?1:0),n.deepSetValue(x,"user.ext.consent",w.consentString)),e[0].schain&&n.deepSetValue(x,"source.ext.schain",e[0].schain),r&&r.uspConsent&&n.deepSetValue(x,"regs.ext.us_privacy",r.uspConsent);var E={id:m,instl:1===f.instl?1:0,tagid:o,bidfloor:f.bidfloor||0,bidfloorcur:"USD",secure:1},A=f.favoredMediaType&&t.supportedMediaTypes.includes(f.favoredMediaType);if((!l||l.banner)&&(!A||f.favoredMediaType===d.b)){var S=s({},E,{banner:{w:g.length?g[0][0]:300,h:g.length?g[0][1]:250,pos:f.pos||0,topframe:n.inIframe()?0:1}});x.imp.push(S)}if(l&&l.video&&(!A||f.favoredMediaType===d.d)){var T=l.video.playerSize||g,I=s({},E,{video:{protocols:f.protocols||[1,2,3,4,5,6],pos:f.pos||0,ext:{context:l.video.context}}});n.isArray(T[0])?(I.video.w=T[0][0],I.video.h=T[0][1]):n.isNumber(T[0])?(I.video.w=T[0],I.video.h=T[1]):(I.video.w=300,I.video.h=250),x.imp.push(I)}var C=[];if(a&&a.userId&&(h(C,n.deepAccess(a,"userId.id5id"),"id5-sync.com","ID5ID"),h(C,n.deepAccess(a,"userId.tdid"),"adserver.org","TDID")),C.length>0&&(x.user.ext.eids=C),0!==x.imp.length)return{method:"POST",url:v,data:x,bidRequest:a}}))},interpretResponse:function(e,r){var t=e&&e.body;if(!t)return n.logError("empty response"),[];var a=t.seatbid.reduce((function(e,r){return e.concat(r.bid)}),[]),i=[];return a.forEach((function(e){var a={requestId:r.bidRequest.bidId,cpm:e.price,width:e.w,height:e.h,ttl:360,creativeId:e.crid||e.adid,netRevenue:!0,currency:e.cur||t.cur,mediaType:u.getMediaType(e)};if(n.deepAccess(r.bidRequest,"mediaTypes."+a.mediaType))if(a.mediaType===d.b)i.push(s({},a,{ad:e.adm}));else if(a.mediaType===d.d){var o=n.deepAccess(r.bidRequest,"mediaTypes.video.context");i.push(s({},a,{vastUrl:e.ext.vast_url,vastXml:e.adm,renderer:"outstream"===o?l(r.bidRequest,e):void 0}))}})),i},getUserSyncs:function(e,r,t,n){var a=[],i=!1,o="",d="";t&&"boolean"==typeof t.gdprApplies&&(i=t.gdprApplies);var s=i?1:0;i&&t.consentString&&(o=encodeURIComponent(t.consentString)),n&&(d=encodeURIComponent(n));var c={gdpr:s,consent:o,uspConsent:d};return r.forEach((function(e){if(e.body){var r=e.body;r.ext&&Array.isArray(r.ext.utrk)&&r.ext.utrk.forEach((function(e){var r=g(e.url,c);a.push({type:e.type,url:r})})),Array.isArray(r.seatbid)&&r.seatbid.forEach((function(e){Array.isArray(e.bid)&&e.bid.forEach((function(e){e.ext&&Array.isArray(e.ext.utrk)&&e.ext.utrk.forEach((function(e){var r=g(e.url,c);a.push({type:e.type,url:r})}))}))}))}})),a}};function l(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.a.install({url:e.params&&e.params.rendererUrl||r.ext&&r.ext.renderer_url||"https://s.gamoshi.io/video/latest/renderer.js",config:t,loaded:!1});try{a.setRender(f)}catch(e){n.logWarn("Prebid Error calling setRender on renderer",e)}return a}function f(e){e.renderer.push((function(){var r=e.adUnitCode+"/"+e.adId;window.GamoshiPlayer.renderAd({id:r,debug:window.location.href.indexOf("pbjsDebug")>=0,placement:document.getElementById(e.adUnitCode),width:e.width,height:e.height,events:{ALL_ADS_COMPLETED:function(){return window.setTimeout((function(){window.GamoshiPlayer.removeAd(r)}),300)}},vastUrl:e.vastUrl,vastXml:e.vastXml})}))}function h(e,r,t,a){n.isStr(r)&&e.push({source:t,uids:[{id:r,ext:{rtiPartner:a}}]})}function g(e,r){return e.replace("[GDPR]",r.gdpr).replace("[CONSENT]",r.consent).replace("[US_PRIVACY]",r.uspConsent)}Object(a.registerBidder)(p)},284:function(e,r,t){"use strict";t.d(r,"a",(function(){return s}));var n=t(283),a=t.n(n),i=t(277),o={},d=["criteo","outstream","adagio","browsi"];function s(e,r,t){if(r&&e){if(a()(d,r))return o[e]?(t&&"function"==typeof t&&(o[e].loaded?t():o[e].callbacks.push(t)),o[e].tag):(o[e]={loaded:!1,tag:null,callbacks:[]},t&&"function"==typeof t&&o[e].callbacks.push(t),i.logWarn("module ".concat(r," is loading external JavaScript")),function(r,t){var n=document.createElement("script");n.type="text/javascript",n.async=!0,o[e].tag=n,n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,t())}:n.onload=function(){t()};return n.src=r,i.insertElement(n),n}(e,(function(){o[e].loaded=!0;try{for(var r=0;r<o[e].callbacks.length;r++)o[e].callbacks[r]()}catch(e){i.logError("Error executing callback","adloader.js:loadExternalScript",e)}})));i.logError("".concat(r," not whitelisted for loading external JavaScript"))}else i.logError("cannot load external script without url and moduleCode")}},287:function(e,r,t){"use strict";t.d(r,"a",(function(){return d})),t.d(r,"c",(function(){return s})),t.d(r,"b",(function(){return c}));var n=t(284),a=t(277),i=t(286),o=t.n(i);function d(e){var r=this,t=e.url,i=e.config,d=e.id,s=e.callback,c=e.loaded,u=e.adUnitCode;this.url=t,this.config=i,this.handlers={},this.id=d,this.loaded=c,this.cmd=[],this.push=function(e){"function"==typeof e?r.loaded?e.call():r.cmd.push(e):a.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=s||function(){r.loaded=!0,r.process()},!function(e){var r=pbjs.adUnits,t=o()(r,(function(r){return r.code===e}));return!!(t&&t.renderer&&t.renderer.url&&t.renderer.render)}(u)?Object(n.a)(t,"outstream",this.callback):a.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(u))}function s(e){return!(!e||!e.url)}function c(e,r){e.render(r)}d.install=function(e){return new d({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},d.prototype.getConfig=function(){return this.config},d.prototype.setRender=function(e){this.render=e},d.prototype.setEventHandlers=function(e){this.handlers=e},d.prototype.handleVideoEvent=function(e){var r=e.id,t=e.eventName;"function"==typeof this.handlers[t]&&this.handlers[t](),a.logMessage("Prebid Renderer event for id ".concat(r," type ").concat(t))},d.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){a.logError("Error processing Renderer command: ",e)}}}}]);