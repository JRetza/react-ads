(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{22:function(r,e,n){"use strict";n.r(e),n.d(e,"spec",(function(){return c}));var t=n(278),i=n(279);function a(){return(a=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t])}return r}).apply(this,arguments)}function o(r){return function(r){if(Array.isArray(r)){for(var e=0,n=new Array(r.length);e<r.length;e++)n[e]=r[e];return n}}(r)||function(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c={code:"adhese",supportedMediaTypes:[i.b,i.d],isBidRequestValid:function(r){return!(!r.params.account||!r.params.location||!r.params.format&&!r.mediaTypes.banner.sizes)},buildRequests:function(r,e){if(0===r.length)return null;var n,t=e.gdprConsent,i=e.refererInfo,a=d(r),c=r.map((function(r){return r.params.data})).reduce(s,{}),p=t&&t.consentString?["xt".concat(t.consentString)]:[],f=i&&i.referer?["xf".concat((n=i.referer,btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")))]:[],m=Object.keys(c).map((function(r){return r+c[r].join(";")})),l=r.map((function(r){return"sl"+u(r)}));return{method:"GET",url:"https://ads-"+a+".adhese.com/json"+[].concat(o(l),o(m),p,f).map((function(r){return"/".concat(r)})).join("")+("?t="+(new Date).getTime()),bids:r}},interpretResponse:function(r,e){var n=r.body.reduce((function(r,e){return r[e.slotName]=e,r}),{});return r.account=d(e.bids),e.bids.map((function(r){return{bid:r,ad:n[u(r)]}})).filter((function(r){return r.ad})).map((function(r){return function(r,e){var n=function(r){if(r.extension&&r.extension.prebid&&r.extension.prebid.cpm)return r.extension.prebid.cpm;return{amount:0,currency:"USD"}}(e),t=function(r){var e="",n="",t={};if(p(r))e=r.id,n=r.orderId,t={priority:r.priority,orderProperty:r.orderProperty,adFormat:r.adFormat,adType:r.adType,libId:r.libId,adspaceId:r.adspaceId,viewableImpressionCounter:r.viewableImpressionCounter};else if(e=r.origin+(r.originInstance?"-"+r.originInstance:""),r.originData&&(t=r.originData,r.originData.seatbid&&r.originData.seatbid.length)){var i=r.originData.seatbid[0];if(i.bid&&i.bid.length){var a=i.bid[0];e=String(a.crid||""),n=String(a.dealid||"")}}return{creativeId:e,dealId:n,originData:t}}(e),o=function(r){return!p(r)||"js"===r.ext&&void 0!==r.body&&""!==r.body&&r.body.match(/<script|<SCRIPT|<html|<HTML|<\?xml/)?r.body:r.tag}(e),c=(s={requestId:r.bidId,mediaType:f(o),cpm:Number(n.amount),currency:n.currency,width:Number(e.width),height:Number(e.height),creativeId:t.creativeId,dealId:t.dealId,adhese:{originData:t.originData}},a({netRevenue:!0,ttl:360},s));var s;if(c.mediaType===i.d)c.vastXml=o;else{var u=e.impressionCounter?"<img src='"+e.impressionCounter+"' style='height:1px; width:1px; margin: -1px -1px; display:none;'/>":"";c.ad=o+u}return c}(r.bid,r.ad)}))},getUserSyncs:function(r,e,n){if(r.iframeEnabled&&e.length>0){var t=e[0].account;if(t){var i="https://user-sync.adhese.com/iframe/user_sync.html?account="+t;return n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&consentString="+encodeURIComponent(n.consentString||"")),[{type:"iframe",url:i}]}}return[]}};function s(r,e){return e&&Object.keys(e).forEach((function(n){var t=e[n],i=Array.isArray(t)?t:[t];if(r[n]){var a=i.filter((function(e){return r[n].indexOf(e)<0}));r[n].push.apply(r[n],a)}else r[n]=i})),r}function u(r){if(r.params.format)return r.params.location+"-"+r.params.format;var e=r.mediaTypes.banner.sizes;e.sort();var n=e.map((function(r){return r[0]+"x"+r[1]})).join("_");return n.length>0?r.params.location+"-"+n:r.params.location}function d(r){return r[0].params.account}function p(r){return!r.origin||"JERLICIA"===r.origin}function f(r){return r.trim().toLowerCase().match(/<\?xml|<vast/)?i.d:i.b}Object(t.registerBidder)(c)}}]);