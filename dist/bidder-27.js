(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{270:function(e,t,n){"use strict";n.r(t);var r=n(283),i=n(287),a=n(284),o=n(292),c=n(303),u=n(296),d=n(279);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f={},g={},l={},p="",v="https://pool.tsukiji.iponweb.net/hba",b="";function y(e,t){e.adUnitCode&&t[e.adUnitCode]&&(e.adUnitName=t[e.adUnitCode]),d.isArray(e.adUnits)&&e.adUnits.forEach((function(e){e.code&&t[e.code]&&(e.name=t[e.code])})),d.isArray(e.adUnitCodes)&&(e.adUnitNames=e.adUnitCodes.map((function(e){return t[e]}))),["bids","bidderRequests","bidsReceived","noBids"].forEach((function(n){!function(e,t){d.isArray(e)&&e.forEach((function(e){y(e,t)}))}(e[n],t)}))}var T=s(Object(i.a)({analyticsType:"endpoint"}),{getUrl:function(){return v},track:function(e){var t=e.eventType,n=e.args,r=void 0===n?{}:n;if(t===a.EVENTS.BID_REQUESTED){var i="".concat(r.bidderCode,"_").concat(r.auctionId);f[i]=d.deepClone(r),f[i].bids=[],r.bids.forEach((function(e){g["".concat(e.bidId,"_").concat(e.auctionId)]=e}))}if(t===a.EVENTS.BID_TIMEOUT&&d.isArray(r)){var o=T.eventsStorage,v={};r.forEach((function(e){var n="".concat(e.bidId,"_").concat(e.auctionId),r="".concat(e.bidder,"_").concat(e.auctionId);o[e.auctionId]||(o[e.auctionId]={events:[]}),(f[r]||v[e.bidder])&&g[n]&&(v[e.bidder]||(v[e.bidder]=f[r],o[e.auctionId].events.push({eventType:t,params:v[e.bidder]}),delete f[r]),v[e.bidder].bids.push(g[n]),delete g[n])}))}else if(p=r.auctionId||p){var h=T.eventsStorage;h[p]||(h[p]={events:[]});var A=r.refererInfo&&r.refererInfo.referer;A&&l[p]!==A&&(l[p]=A);var E=s({},r);delete E.ad,E.bidsReceived&&(E.bidsReceived=E.bidsReceived.map((function(e){var t=s({},e);return delete t.ad,t}))),h[p].events.push({eventType:t,params:E}),t!==a.EVENTS.AUCTION_END&&t!==a.EVENTS.BID_WON||(E.adServerTargeting=c.a.getAllTargeting(u.a.getAdUnitCodes(),u.a.getBidsReceived()),T.eventsStorage[p]&&(T.eventsStorage[p].page={url:l[p]},T.eventsStorage[p].pubId=b,T.eventsStorage[p].wrapper_version="3.11.0",T.eventsStorage[p].events.forEach((function(e){var t=function(){if(window.googletag&&window.googletag.pubads){var e=googletag.pubads();if(e&&e.getSlots){var t=e.getSlots();if(t&&t.length){var n={};return t.forEach((function(e){var t=e.getSlotElementId(),r=(e.getAdUnitPath()||"").split("/").pop();n[t]=r})),n}}}}();t&&y(e.params,t)}))),T.sendStat(T.eventsStorage[p],p))}},sendStat:function(e,t){e&&(delete T.eventsStorage[t],Object(r.a)(v,{success:function(){},error:function(){}},JSON.stringify(e),{method:"POST"}))}});T.eventsStorage={},T.originEnableAnalytics=T.enableAnalytics,T.enableAnalytics=function(e){var t=e&&e.options;t&&("string"==typeof t.url&&(v=t.url),t.pubId&&(b=t.pubId.toString())),T.originEnableAnalytics(e)},o.default.registerAnalyticsAdapter({adapter:T,code:"yieldone"}),t.default=T},287:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(284),i=n(283);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=n(291),u=n(279),d=r.EVENTS,s=d.AUCTION_INIT,f=d.AUCTION_END,g=d.REQUEST_BIDS,l=d.BID_REQUESTED,p=d.BID_TIMEOUT,v=d.BID_RESPONSE,b=d.NO_BID,y=d.BID_WON,T=d.BID_ADJUSTMENT,h=d.BIDDER_DONE,A=d.SET_TARGETING,E=d.AD_RENDER_FAILED,m=d.ADD_AD_UNITS;function S(e){var t,n=e.url,r=e.analyticsType,d=e.global,S=e.handler,I=[],O=0,U=!0;return function(){if(U){for(var e=0;e<I.length;e++)I[e]();I.push=function(e){e()},U=!1}u.logMessage("event count sent to ".concat(d,": ").concat(O))}(),{track:function(e){var t=e.eventType,n=e.args;"bundle"===this.getAdapterType()&&window[d](S,t,n);"endpoint"===this.getAdapterType()&&C.apply(void 0,arguments)},enqueue:j,enableAnalytics:w,disableAnalytics:function(){u._each(t,(function(e,t){c.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:w},getAdapterType:function(){return r},getGlobal:function(){return d},getHandler:function(){return S},getUrl:function(){return n}};function C(e){var t=e.eventType,r=e.args,a=e.callback;Object(i.a)(n,a,JSON.stringify({eventType:t,args:r}))}function j(e){var t=e.eventType,n=e.args,r=this;d&&window[d]&&t&&n?this.track({eventType:t,args:n}):I.push((function(){O++,r.track({eventType:t,args:n})}))}function w(e){var n,r=this,i=this;"object"!==o(e)||"object"!==o(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(c.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==p&&j.call(i,{eventType:t,args:n})}})),a(n={},g,(function(e){return r.enqueue({eventType:g,args:e})})),a(n,l,(function(e){return r.enqueue({eventType:l,args:e})})),a(n,v,(function(e){return r.enqueue({eventType:v,args:e})})),a(n,b,(function(e){return r.enqueue({eventType:b,args:e})})),a(n,p,(function(e){return r.enqueue({eventType:p,args:e})})),a(n,y,(function(e){return r.enqueue({eventType:y,args:e})})),a(n,T,(function(e){return r.enqueue({eventType:T,args:e})})),a(n,h,(function(e){return r.enqueue({eventType:h,args:e})})),a(n,A,(function(e){return r.enqueue({eventType:A,args:e})})),a(n,f,(function(e){return r.enqueue({eventType:f,args:e})})),a(n,E,(function(e){return r.enqueue({eventType:E,args:e})})),a(n,m,(function(e){return r.enqueue({eventType:m,args:e})})),a(n,s,(function(t){t.config="object"===o(e)&&e.options||{},r.enqueue({eventType:s,args:t})})),t=n,u._each(t,(function(e,t){c.on(t,e)}))):u.logMessage('Analytics adapter for "'.concat(d,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return u.logMessage('Analytics adapter for "'.concat(d,'" already enabled, unnecessary call to `enableAnalytics`.'))}}}},296:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(279),i=n(302),a=n(288),o=n.n(a),c=n(284);var u=function(){var e=[],t={};return t.addWinningBid=function(t){var n=o()(e,(function(e){return e.getAuctionId()===t.auctionId}));n?(t.status=c.BID_STATUS.RENDERED,n.addWinningBid(t)):Object(r.logWarn)("Auction not found when adding winning bid")},t.getAllWinningBids=function(){return e.map((function(e){return e.getWinningBids()})).reduce(r.flatten,[])},t.getBidsRequested=function(){return e.map((function(e){return e.getBidRequests()})).reduce(r.flatten,[])},t.getNoBids=function(){return e.map((function(e){return e.getNoBids()})).reduce(r.flatten,[])},t.getBidsReceived=function(){return e.map((function(e){if(e.getAuctionStatus()===i.a)return e.getBidsReceived()})).reduce(r.flatten,[]).filter((function(e){return e}))},t.getAdUnits=function(){return e.map((function(e){return e.getAdUnits()})).reduce(r.flatten,[])},t.getAdUnitCodes=function(){return e.map((function(e){return e.getAdUnitCodes()})).reduce(r.flatten,[]).filter(r.uniques)},t.createAuction=function(t){var n=t.adUnits,r=t.adUnitCodes,a=t.callback,o=t.cbTimeout,c=t.labels,u=t.auctionId,d=Object(i.k)({adUnits:n,adUnitCodes:r,callback:a,cbTimeout:o,labels:c,auctionId:u});return function(t){e.push(t)}(d),d},t.findBidByAdId=function(t){return o()(e.map((function(e){return e.getBidsReceived()})).reduce(r.flatten,[]),(function(e){return e.adId===t}))},t.getStandardBidderAdServerTargeting=function(){return Object(i.j)()[c.JSON_MAPPING.ADSERVER_TARGETING]},t.setStatusForBids=function(n,r){var i=t.findBidByAdId(n);if(i&&(i.status=r),i&&r===c.BID_STATUS.BID_TARGETING_SET){var a=o()(e,(function(e){return e.getAuctionId()===i.auctionId}));a&&a.setBidTargeting(i)}},t.getLastAuctionId=function(){return e.length&&e[e.length-1].getAuctionId()},t}()},303:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(279),i=n(282),a=n(300),o=n(296),c=n(311),u=n(281),d=n(285),s=n.n(d);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var p=n(279),v=n(284),b=[],y=Object.keys(v.TARGETING_KEYS).map((function(e){return v.TARGETING_KEYS[e]})),T=function(e){return e.responseTimestamp+1e3*e.ttl+1e3>Object(r.timestamp)()},h=function(e){return e&&(e.status&&!s()([v.BID_STATUS.RENDERED],e.status)||!e.status)};function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=[],o=i.b.getConfig("sendBidsControl.dealPrioritization"),c=Object(r.groupBy)(e,"adUnitCode");return Object.keys(c).forEach((function(e){var i=[],u=Object(r.groupBy)(c[e],"bidderCode");Object.keys(u).forEach((function(e){return i.push(u[e].reduce(t))})),n>0?(i=o?i(E(!0)):i.sort((function(e,t){return t.cpm-e.cpm})),a.push.apply(a,l(i.slice(0,n)))):a.push.apply(a,l(i))})),a}function E(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adUnitTargeting.hb_deal&&void 0===n.adUnitTargeting.hb_deal?-1:void 0===t.adUnitTargeting.hb_deal&&void 0!==n.adUnitTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adUnitTargeting.hb_pb-t.adUnitTargeting.hb_pb}}var m=function(e){var t={},n={};function o(e,t){return e.adserverTargeting&&t&&(p.isArray(t)&&s()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function d(e,t){if(!0===i.b.getConfig("targetingControls.alwaysIncludeDeals")){var n=y.concat(a.a);return A(t,r.getHighestCpm).map((function(t){if(t.dealId&&o(t,e))return g({},t.adUnitCode,D(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}return[]}function m(e,t){var n=Object(r.deepClone)(e);return Object.keys(n).map((function(e){return{adUnitCode:e,adUnitTargeting:n[e]}})).sort(E()).reduce((function(e,i,a,o){var c,u=(c=i.adUnitTargeting,Object.keys(c).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(c[t]),"%26")}),""));a+1===o.length&&(u=u.slice(0,-3));var d=i.adUnitCode,s=u.length;return s<=t?(t-=s,Object(r.logInfo)("AdUnit '".concat(d,"' auction keys comprised of ").concat(s," characters.  Deducted from running threshold; new limit is ").concat(t),n[d]),e[d]=n[d]):Object(r.logWarn)("The following keys for adUnitCode '".concat(d,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(s,", the current allotted amount was ").concat(t,".\n"),n[d]),a+1===o.length&&0===Object.keys(e).length&&Object(r.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})}function S(e){return e.map((function(e){return g({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return g({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,t){return f(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=f({},e[n],t[n]),e}),{})}function I(t){return"string"==typeof t?[t]:p.isArray(t)?t:e.getAdUnitCodes()||[]}function O(){var t=e.getBidsReceived();return i.b.getConfig("useBidCache")||(t=t.filter((function(e){return n[e.adUnitCode]===e.auctionId}))),A(t=t.filter((function(e){return Object(r.deepAccess)(e,"video.context")!==u.a})).filter((function(e){return"banner"!==e.mediaType||Object(c.c)([e.width,e.height])})).filter(h).filter(T),r.getOldestHighestCpmBid)}function U(e,n){var r=t.getWinningBids(e,n),i=C();return r=r.map((function(e){return g({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===i.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=g({},n.substring(0,20),r);if(n===v.TARGETING_KEYS.DEAL){var a=g({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(l(t),[i,a])}return[].concat(l(t),[i])}),[]))}))}function C(){return e.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(y).filter(r.uniques)}function j(e,t,n,i){return Object.keys(t.adserverTargeting).filter(w()).forEach((function(n){e.length&&e.filter(function(e){return function(n){return n.adUnitCode===t.adUnitCode&&n.adserverTargeting[e]}}(n)).forEach(function(e){return function(n){p.isArray(n.adserverTargeting[e])||(n.adserverTargeting[e]=[n.adserverTargeting[e]]),n.adserverTargeting[e]=n.adserverTargeting[e].concat(t.adserverTargeting[e]).filter(r.uniques),delete t.adserverTargeting[e]}}(n))})),e.push(t),e}function w(){var e=C().concat(a.a);return function(t){return-1===e.indexOf(t)}}function k(e){return g({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(w()).map((function(t){return g({},t.substring(0,20),[e.adserverTargeting[t]])})))}function _(e,t){return t.filter((function(t){return s()(e,t.adUnitCode)})).map((function(e){return f({},e)})).reduce(j,[]).map(k).filter((function(e){return e}))}function B(e,t){var n=y.concat(a.a),c=i.b.getConfig("sendBidsControl.bidLimit");return A(t,r.getHighestCpm,c).map((function(t){if(o(t,e))return g({},t.adUnitCode,D(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))}function D(e,t){return t.map((function(t){return g({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}return t.setLatestAuctionForAdUnit=function(e,t){n[e]=t},t.resetPresetTargeting=function(t){if(Object(r.isGptPubadsDefined)()){var n=I(t),i=e.getAdUnits().filter((function(e){return s()(n,e.code)}));window.googletag.pubads().getSlots().forEach((function(e){b.forEach((function(t){i.forEach((function(n){n.code!==e.getAdUnitPath()&&n.code!==e.getSlotElementId()||e.setTargeting(t,null)}))}))}))}},t.resetPresetTargetingAST=function(e){I(e).forEach((function(e){var t=window.apntag.getTag(e);if(t&&t.keywords){var n=Object.keys(t.keywords),r={};n.forEach((function(e){s()(b,e.toLowerCase())||(r[e]=t.keywords[e])})),window.apntag.modifyTag(e,{keywords:r})}}))},t.getAllTargeting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O(),n=I(e),a=U(n,t).concat(_(n,t)).concat(i.b.getConfig("enableSendAllBids")?B(n,t):d(n,t));a.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===b.indexOf(Object.keys(e)[0])&&(b=Object.keys(e).concat(b))}))}))})),a=S(a);var o=i.b.getConfig("targetingControls.auctionKeyMaxChars");return o&&(Object(r.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(o," characters.  Running checks on auction keys...")),a=m(a,o)),n.forEach((function(e){a[e]||(a[e]={})})),a},t.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter(t?t(n):Object(r.isAdUnitCodeMatchingSlot)(n)).forEach((function(t){return Object.keys(e[t]).forEach((function(r){var i=e[t][r].split(",");(i=i.length>1?[i]:i).map((function(e){return p.logMessage("Attempting to set key value for slot: ".concat(n.getSlotElementId()," key: ").concat(r," value: ").concat(e)),e})).forEach((function(e){n.setTargeting(r,e)}))}))}))}))},t.getWinningBids=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O(),n=I(e);return t.filter((function(e){return s()(n,e.adUnitCode)})).filter((function(e){return e.cpm>0})).map((function(e){return e.adUnitCode})).filter(r.uniques).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(r.getHighestCpm)}))},t.setTargetingForAst=function(e){var n=t.getAllTargeting(e);try{t.resetPresetTargetingAST(e)}catch(e){p.logError("unable to reset targeting for AST"+e)}Object.keys(n).forEach((function(e){return Object.keys(n[e]).forEach((function(t){if(p.logMessage("Attempting to set targeting for targetId: ".concat(e," key: ").concat(t," value: ").concat(n[e][t])),p.isStr(n[e][t])||p.isArray(n[e][t])){var r={};t.search(/pt[0-9]/)<0?r[t.toUpperCase()]=n[e][t]:r[t]=n[e][t],window.apntag.setKeywords(e,r,{overrideKeyValue:!0})}}))}))},t.isApntagDefined=function(){if(window.apntag&&p.isFn(window.apntag.setKeywords))return!0},t}(o.a)}}]);