(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{144:function(t,e,r){"use strict";r.r(e),r.d(e,"addBrowsiTag",(function(){return d})),r.d(e,"setData",(function(){return g})),r.d(e,"isIdMatchingAdUnit",(function(){return y})),r.d(e,"browsiSubmodule",(function(){return w})),r.d(e,"init",(function(){return v}));var n=r(2),o=r(0),a=r(7),i=r(22),u=r(57);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var l={},f=null,p=null;function d(t){var e=Object(u.a)(t.u,"browsi");return e.async=!0,e.setAttribute("data-sitekey",l.siteKey),e.setAttribute("data-pubkey",l.pubKey),e.setAttribute("prebidbpt","true"),e.setAttribute("id","browsi-tag"),e.setAttribute("src",t.u),e.prebidData=o.deepClone(t),l.keyName&&(e.prebidData.kn=l.keyName),e}function b(){var t=window.top,e=t.document,r=null;try{r=o.getDataFromLocalStorage("__brtd")}catch(t){o.logError("unable to parse __brtd")}var n,a,u=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},{sk:l.siteKey,sw:t.screen&&t.screen.width||-1,sh:t.screen&&t.screen.height||-1,url:encodeURIComponent("".concat(e.location.protocol,"//").concat(e.location.host).concat(e.location.pathname))},{},r?{us:r}:{us:"{}"},{},document.referrer?{r:document.referrer}:{},{},document.title?{at:document.title}:{});n="//".concat(l.url,"/prebid?").concat((a=u,Object.keys(a).map((function(t){return t+"="+encodeURIComponent(a[t])})).join("&"))),Object(i.b)(l.auctionDelay||l.timeout||1e3)(n,{success:function(t,e){if(200===e.status)try{var r=JSON.parse(t);r&&r.p&&r.kn?g({p:r.p,kn:r.kn,pmd:r.pmd}):g({}),d(r)}catch(t){o.logError("unable to parse data"),g({})}else 204===e.status&&g({})},error:function(){g({}),o.logError("unable to get prediction data")}})}function g(t){f=t,"function"==typeof p&&(p(f),p=null)}function m(){return o.isGptPubadsDefined&&window.googletag.pubads().getSlots()}function y(t,e,r){if(!r||!r.length)return!0;var n=e.getAdUnitPath();return-1!==r.indexOf(n)}var w={name:"browsi",getData:function(t,e){try{r=function(r){var n=r.p;if(!n||!Object.keys(n).length)return e({});var a=m();if(!a||!a.length)return e({});var i=t.reduce((function(t,e){var a=e&&e.code;if(!a)return t;var i=function(t){var e=m();return e&&e.length&&e.filter((function(e){return e.getSlotElementId()===t}))[0]||null}(a);if(!i)return t;var u,c,s,f,p=function(t,e,r){if(t)try{return function(t,e,r,n){var o=t.p.replace(/['"]+/g,"").replace(/<DIV_ID>/g,e);return r&&(o=o.replace(/<AD_UNIT>/g,r)),n&&(o=o.replace(/<KEY_(\w+)>/g,n)),t.s&&(o=o.substring(t.s.s,t.s.e)),o}(t,r.getSlotElementId(),r.getAdUnitPath(),(function(t,e){return e&&r.getTargeting(e).join("_")||"NA"}))}catch(e){o.logError("failed to evaluate: ".concat(t))}return e}(r.pmd,a,i),d=n[p];if(!d)return t;if(d.p){if(!y(a,i,d.w))return t;t[a]=(u=d.p,c=r.kn,s=u<0?"NA":(Math.floor(10*u)/10).toFixed(2),(f={})[(l.keyName||c).toString()]=s.toString(),f)}return t}),{});return e(i)},f?(p=null,r(f)):p=r}catch(t){e({})}var r}};function v(t){var e=t.getConfig("realTimeData",(function(t){var r=t.realTimeData;try{(l=r.dataProviders&&r.dataProviders.filter((function(t){return t.name&&"browsi"===t.name.toLowerCase()}))[0].params).auctionDelay=r.auctionDelay,l.timeout=r.timeout}catch(t){l={}}l.siteKey&&l.pubKey&&l.url?(e(),b()):o.logError("missing params for Browsi provider")}))}Object(a.e)("realTimeData",w),v(n.b)}}]);