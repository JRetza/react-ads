(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{349:function(e,n,t){"use strict";t.r(n),t.d(n,"spec",(function(){return o}));var i=t(0),a=t(2),d=t(55),r=t(16),c=t(13),o={code:"yieldone",aliases:["y1"],supportedMediaTypes:[c.b,c.d],isBidRequestValid:function(e){return!!e.params.placementId},buildRequests:function(e,n){return e.map((function(e){var t={v:"hb1",p:e.params.placementId,cb:Math.floor(99999999999*Math.random()),r:n.refererInfo.referer,uid:e.bidId,tid:e.transactionId,uc:e.adUnitCode,tmax:a.b.getConfig("bidderTimeout"),t:"i"},d=i.deepAccess(e,"mediaTypes.video");if(i.isEmpty(e.mediaType)&&i.isEmpty(e.mediaTypes)||e.mediaType===c.b||e.mediaTypes&&e.mediaTypes[c.b]){var r=i.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes;t.sz=i.parseSizesInput(r).join(",")}else if(e.mediaType===c.d||d){var o=i.deepAccess(e,"mediaTypes.video.playerSize")||e.sizes,s=i.parseSizesInput(o)[0];t.w=s.split("x")[0],t.h=s.split("x")[1]}return{method:"GET",url:"https://y.one.impact-ad.jp/h_bid",data:t}}))},interpretResponse:function(e,n){var t=[],d=e.body,o=d.crid||0,p=d.width||0,l=d.height||0,w=1e3*d.cpm||0;if(0!==p&&0!==l&&0!==w&&0!==o){var m=d.dealId||"",u=d.renderid||"",f=d.currency||"JPY",g=void 0===d.netRevenue||d.netRevenue,b=n.data.r||"",h={requestId:d.uid,cpm:w,width:d.width,height:d.height,creativeId:o,dealId:m,currency:f,netRevenue:g,ttl:a.b.getConfig("_bidderTimeout"),referrer:b};if(d.adTag&&"ViewableRendering"===u){h.mediaType=c.b;var y='\n        <script src="'.concat("https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/prebid-adformat-config.js",'"><\/script>\n        <script>\n        let width =').concat(h.width,";\n        let height =").concat(h.height,";\n        let adTag = `").concat(d.adTag.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/'/g,"\\'").replace(/"/g,'\\"'),'`;\n        let targetId ="').concat(n.data.uc,'";\n        window.YONEPBViewable = {};\n        window.YONEPBViewable.executed = false;\n        const viewablePercentage = window.pb_conf.viewablePercentage;\n        const viewableRange = height * 0.01 * viewablePercentage;\n        const iframe = document.createElement(\'iframe\');\n        iframe.setAttribute("style", "border: 0; margin: 0 auto; left: 0; top: 0; width:" + width + "px; height:" + height + "px;");\n        iframe.frameBorder = 0; iframe.scrolling = \'no\';\n        const inDap = document.createElement(\'script\');\n        inDap.innerHTML = "inDapIF = true;";\n        iframe.appendChild(inDap);\n        window.frameElement.parentElement.appendChild(iframe);\n        const doc = iframe.contentWindow ? iframe.contentWindow.document : iframe.contentDocument;\n        if(!window.parent.$sf){\n          let target = window.top.document.getElementById(targetId);\n          window.top.addEventListener(\'scroll\', () => {\n              const targetRect = target.getBoundingClientRect();\n              if (!window.YONEPBViewable.executed && window.top.innerHeight - targetRect.top > viewableRange) {\n                  window.YONEPBViewable.executed = true;\n                  doc.open(); doc.write(adTag); doc.close();\n                  window.frameElement.style.display = "none";\n              }\n            }, false);\n        }else{\n          let disp = function(){\n            if(!window.YONEPBViewable.executed && window.parent.$sf.ext.inViewPercentage() > viewablePercentage){\n                window.YONEPBViewable.executed = true;\n                doc.open(); doc.write(adTag); doc.close();\n                window.frameElement.style.display = "none";\n            }\n            let id = setTimeout(disp, 100);\n            if(window.YONEPBViewable.executed){clearTimeout(id);}\n          };\n          disp();\n        }\n        <\/script>\n        ');h.ad=y}else d.adTag?(h.mediaType=c.b,h.ad=d.adTag):d.adm&&(h.mediaType=c.d,h.vastXml=d.adm,h.renderer=function(e){var n=r.a.install({id:e.uid,url:"https://img.ak.impact-ad.jp/ic/pone/ivt/firstview/js/dac-video-prebid.min.js",loaded:!1});try{n.setRender(s)}catch(e){i.logWarn("Prebid Error calling setRender on newRenderer",e)}return n}(d));t.push(h)}return t},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://y.one.impact-ad.jp/push_sync"}]}};function s(e){e.renderer.push((function(){window.DACIVTPREBID.renderPrebid(e)}))}Object(d.registerBidder)(o)}}]);