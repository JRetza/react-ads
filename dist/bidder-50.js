(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{216:function(e,t,r){"use strict";r.r(t),r.d(t,"spec",(function(){return u}));var a=r(277),n=r(280),o=r(287),d=r(278),s=r(279),i=r(284);function c(e){return{pubTag:e?"https://pubtag.stage.showheroes.com/publishertag.js":"https://static.showheroes.com/publishertag.js",vlHost:e?"https://video-library.stage.showheroes.com":"https://video-library.showheroes.com"}}var u={code:"showheroes-bs",aliases:["showheroesBs"],supportedMediaTypes:[s.d,s.b],isBidRequestValid:function(e){return!!e.params.playerId},buildRequests:function(e,t){var r=e[0].params.contentPageUrl||t.refererInfo.referer,o=!!e[0].params.stage,d="outstream"===a.deepAccess(e[0],"mediaTypes.video.context"),i=a.deepAccess(e[0],"params.outstreamOptions.customRender"),c=a.deepAccess(e[0],"params.outstreamOptions.slot")||a.deepAccess(e[0],"params.outstreamOptions.iframe"),u=a.deepAccess(e[0],"renderer"),l=a.deepAccess(e[0],"params.outstreamOptions"),p=!!e[0].mediaTypes.banner||d&&!(i||u||c),m=e.map((function(e){var r=a.getBidIdParameter("vpaidMode",e.params),n=1===e.sizes.length?e.sizes[0]:e.sizes;if(n&&!n.length){var o,d=a.deepAccess(e,"mediaTypes.video.playerSize");o=a.isArray(d)?d:e.mediaTypes.banner.sizes,a.isArray(o[0])?n=o[0]:a.isNumber(o[0])&&(n=o)}var i=a.deepAccess(e,"mediaTypes.video.context"),c=2;return r&&"instream"===i&&(c=1),(p||"outstream"===i)&&(c=5),{type:c,bidId:e.bidId,mediaType:p?s.b:s.d,context:i,playerId:a.getBidIdParameter("playerId",e.params),auctionId:t.auctionId,bidderCode:"showheroes-bs",gdprConsent:t.gdprConsent,start:+new Date,timeout:3e3,video:{width:n[0],height:n[1]},params:e.params}}));return{url:o?"https://bid-service.stage.showheroes.com/api/v1/bid":"https://bs1.showheroes.com/api/v1/bid",method:"POST",options:{contentType:"application/json",accept:"application/json"},data:{user:[],meta:{pageURL:encodeURIComponent(r),vastCacheEnabled:!!n.b.getConfig("cache")&&!p&&!l||!1,isDesktop:a.getWindowTop().document.documentElement.clientWidth>700,xmlAndTag:!(!d||!i)||!1,stage:o||void 0},requests:m,debug:e[0].params.debug||!1}}},interpretResponse:function(e,t){return function(e,t){if(e&&(!Array.isArray(e.bids)||e.bids.length<1))return[];var r=[],n={};return(t.requests||[]).forEach((function(e){n[e.bidId]=e})),e.bids.forEach((function(e){var d=n[e.bidId],i=d.params,u={};if(u.cpm=e.cpm,u.requestId=e.bidId,u.currency=e.currency,u.mediaType=d.mediaType||s.d,u.ttl=300,u.creativeId="c_"+e.bidId,u.netRevenue=!0,u.width=e.video.width,u.height=e.video.height,e.vastXml&&(u.vastXml=e.vastXml,u.adResponse={content:e.vastXml}),e.vastTag&&(u.vastUrl=e.vastTag),d.mediaType===s.b)u.ad=function(e,t,r){var a=c(!!r.meta.stage);return'<html>\n    <head></head>\n    <body>\n      <script async src="'.concat(a.pubTag,'"\n              data-canvas=""\n              data-noad-passback-listener=""\n              onload="window.ShowheroesTag=this"\n              data-player-host="').concat(a.vlHost,'"><\/script>\n      <div class="showheroes-spot"\n            data-debug="').concat(r.debug?"1":"",'"\n            data-player="').concat(t.playerId,'"\n            data-ad-vast-tag="').concat(e.vastTag,'"></div>\n    </body>\n  </html>')}(e,d,t);else if("outstream"===d.context){var p=o.a.install({id:e.bidId,url:"//",config:{playerId:d.playerId,width:e.video.width,height:e.video.height,vastUrl:e.vastTag,vastXml:e.vastXml,debug:t.debug,isStage:!!t.meta.stage,customRender:a.getBidIdParameter("customRender",i.outstreamOptions),slot:a.getBidIdParameter("slot",i.outstreamOptions),iframe:a.getBidIdParameter("iframe",i.outstreamOptions)}});p.setRender(l),u.renderer=p}r.push(u)})),r}(e.body,t.data)},getUserSyncs:function(e,t){var r=[];if(!t.length||!t[0].body.userSync)return r;var a=t[0].body.userSync;return e.iframeEnabled&&(a.iframes||[]).forEach((function(e){r.push({type:"iframe",url:e})})),e.pixelEnabled&&(a.pixels||[]).forEach((function(e){r.push({type:"image",url:e})})),r}};function l(e){var t=function(e){var t=c(a.getBidIdParameter("isStage",e.renderer.config)),r=window.document.createDocumentFragment(),n=Object(i.a)(t.pubTag,"outstream",(function(){window.ShowheroesTag=this}));n.setAttribute("data-player-host",t.vlHost);var o=window.document.createElement("div");return o.setAttribute("class","showheroes-spot"),o.setAttribute("data-player",a.getBidIdParameter("playerId",e.renderer.config)),o.setAttribute("data-debug",a.getBidIdParameter("debug",e.renderer.config)),o.setAttribute("data-ad-vast-tag",a.getBidIdParameter("vastUrl",e.renderer.config)),o.setAttribute("data-stream-type","outstream"),r.appendChild(o),r.appendChild(n),r}(e);if("function"==typeof e.renderer.config.customRender)e.renderer.config.customRender(e,t);else try{var r=a.getBidIdParameter("iframe",e.renderer.config);if(r&&"IFRAME"===window.document.getElementById(r).nodeName){var n=window.document.getElementById(r);return void(n.contentDocument||n.contentWindow&&n.contentWindow.document).body.appendChild(t)}var o=a.getBidIdParameter("slot",e.renderer.config);o&&window.document.getElementById(o)?window.document.getElementById(o).appendChild(t):o&&a.logError("[ShowHeroes][renderer] Error: spot not found")}catch(e){a.logError("[ShowHeroes][renderer] Error:"+e.message)}}Object(d.registerBidder)(u)},284:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var a=r(283),n=r.n(a),o=r(277),d={},s=["criteo","outstream","adagio","browsi"];function i(e,t,r){if(t&&e){if(n()(s,t))return d[e]?(r&&"function"==typeof r&&(d[e].loaded?r():d[e].callbacks.push(r)),d[e].tag):(d[e]={loaded:!1,tag:null,callbacks:[]},r&&"function"==typeof r&&d[e].callbacks.push(r),o.logWarn("module ".concat(t," is loading external JavaScript")),function(t,r){var a=document.createElement("script");a.type="text/javascript",a.async=!0,d[e].tag=a,a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,r())}:a.onload=function(){r()};return a.src=t,o.insertElement(a),a}(e,(function(){d[e].loaded=!0;try{for(var t=0;t<d[e].callbacks.length;t++)d[e].callbacks[t]()}catch(e){o.logError("Error executing callback","adloader.js:loadExternalScript",e)}})));o.logError("".concat(t," not whitelisted for loading external JavaScript"))}else o.logError("cannot load external script without url and moduleCode")}},287:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return c}));var a=r(284),n=r(277),o=r(286),d=r.n(o);function s(e){var t=this,r=e.url,o=e.config,s=e.id,i=e.callback,c=e.loaded,u=e.adUnitCode;this.url=r,this.config=o,this.handlers={},this.id=s,this.loaded=c,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):n.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=i||function(){t.loaded=!0,t.process()},!function(e){var t=pbjs.adUnits,r=d()(t,(function(t){return t.code===e}));return!!(r&&r.renderer&&r.renderer.url&&r.renderer.render)}(u)?Object(a.a)(r,"outstream",this.callback):n.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(u))}function i(e){return!(!e||!e.url)}function c(e,t){e.render(t)}s.install=function(e){return new s({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},s.prototype.getConfig=function(){return this.config},s.prototype.setRender=function(e){this.render=e},s.prototype.setEventHandlers=function(e){this.handlers=e},s.prototype.handleVideoEvent=function(e){var t=e.id,r=e.eventName;"function"==typeof this.handlers[r]&&this.handlers[r](),n.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(r))},s.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){n.logError("Error processing Renderer command: ",e)}}}}]);