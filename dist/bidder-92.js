(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{143:function(r,e,t){"use strict";t.r(e),t.d(e,"britepoolIdSubmodule",(function(){return l}));var o=t(0),n=t(22),i=t(7);function a(r){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}function u(){return(u=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r}).apply(this,arguments)}var l={name:"britepoolId",decode:function(r){return r&&"string"==typeof r.primaryBPID?{britepoolid:r.primaryBPID}:null},getId:function(r,e){var t=l.createParams(r,e),i=t.params,a=t.headers,u=t.url,c=t.getter,p=t.errors,f=null;return"function"==typeof c&&"function"!=typeof(f=c(i))?{id:l.normalizeValue(f)}:{callback:function(r){if(p.length>0)return p.forEach((function(r){return o.logError(r)})),void r();if(f)try{f((function(e){r(l.normalizeValue(e))}))}catch(e){""!==e&&o.logError(e),r()}else Object(n.a)(u,{success:function(e){var t=l.normalizeValue(e);r(t?{primaryBPID:t.primaryBPID}:null)},error:function(e){""!==e&&o.logError(e),r()}},JSON.stringify(i),{customHeaders:a,contentType:"application/json",method:"POST",withCredentials:!0})}}},createParams:function(r,e){var t=[],o={},n=u({},r);if(n.getter){if("function"!=typeof n.getter)return t.push("userIdTargeting - britepoolId submodule requires getter to be a function"),{errors:t}}else n.api_key&&(o["x-api-key"]=n.api_key);var i=n.url||"https://api.britepool.com/v1/britepool/id",a=n.getter;return delete n.api_key,delete n.url,delete n.getter,{params:n,headers:o,url:i,getter:a,errors:t}},normalizeValue:function(r){var e=null;if("object"===a(r))e=r;else if("string"==typeof r)try{e=JSON.parse(r)}catch(r){o.logError(r)}return e}};Object(i.e)("userId",l)}}]);