(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{223:function(t,e,n){"use strict";n.r(e),n.d(e,"spec",(function(){return m}));var o=n(55);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(){try{return window.self!==window.top&&!window.mantis_link}catch(t){return!0}}function a(t,e){var n=document.createElement("img");n.src=t,n.style.cssText="display:none !important;",(e||document.body).appendChild(n)}function d(t,e,n,o){var i,r,a=null,d=!1,u=null,c=function(){d&&u&&u(),d=!1},s=function(t,l,s){var w=void 0!==document.hidden&&document.hidden;if(0==s.width||0==s.height||w)return c();var f=s.height*o,m=s.width*o;return(s.top<0&&s.bottom>=f||s.top>0&&l-s.top>=f)&&(s.left<0&&s.right>=m||s.left>0&&t-s.left>=m)?!a&&n?(a=Date.now(),c()):n&&Date.now()-a<n?c():void(d||e((function(t){t?d=!0:(i&&clearInterval(i),r&&r())}),(function(t){u=t}))):c()};l()&&(r=window.context.observeIntersection((function(t){t.forEach((function(t){s(t.rootBounds.width,t.rootBounds.height,t.boundingClientRect)}))}))),i=setInterval((function(){var e=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth;s(n,e,t.getBoundingClientRect())}),100)}function u(t){return null!=t&&("string"==typeof t?!(!t||/^\s*$/.test(t)):"number"!=typeof t||!isNaN(t))}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(){return"object"===i(window.context)&&("AMP-AD"===window.context.tagName||"AMP-EMBED"===window.context.tagName)}function s(t,e,n){var o={referrer:document.referrer,tz:(new Date).getTimezoneOffset(),buster:(new Date).getTime(),secure:"https:"===document.location.protocol,version:9};if(r()&&!l()||(o.mobile=!l()&&function(t){var e=!t&&("ontouchstart"in window||navigator.msMaxTouchPoints);if(r())return!e;var n=window.innerWidth||window.document.documentElement.clientWidth||window.document.body.clientWidth;return!e&&(!n||n>=(window.mantis_breakpoint||768))}(!0)?"false":"true"),window.mantis_uuid)o.uuid=window.mantis_uuid;else if(window.localStorage){var i=window.localStorage.getItem("mantis:uuid");i&&(o.uuid=i)}if(r())o.iframe=!0;else try{o.title=window.top.document.title,o.referrer=window.top.document.referrer,o.url=window.top.document.location.href}catch(t){}l()&&(o.amp=!0,!o.url&&window.context.canonicalUrl&&(o.url=window.context.canonicalUrl),!o.url&&window.context.location&&(o.url=window.context.location.href),!o.referrer&&window.context.referrer&&(o.referrer=window.context.referrer)),Object.keys(e||{}).forEach((function(t){o[t]=e[t]}));var a=function t(e,n,o){if(!e)return null;var i,r=o||[];for(var a in e){var d=a;n&&(d=n+"["+a+"]");var l=e[a];if(i=l,"[object Array]"===Object.prototype.toString.call(i))for(var s=0;s<l.length;s++){var w=d+"["+s+"]",f=l[s];c(f)?t(f,w,r):u(f)&&r.push(w+"="+encodeURIComponent(f))}else c(l)&&l!=e?t(l,d,r):u(l)&&r.push(d+"="+encodeURIComponent(l))}return r.join("&")}(o);return(void 0===window.mantis_domain?n||"https://mantodea.mantisadnetwork.com":window.mantis_domain)+t+"?"+a}var w,f,m={code:"mantis",supportedMediaTypes:["banner","video","native"],isBidRequestValid:function(t){return!(!t.params.property||!(t.params.code||t.params.zoneId||t.params.zone))},buildRequests:function(t){var e=null;return t.some((function(t){if(t.params.property)return e=t.params.property,!0})),{method:"GET",url:s("/prebid/display",{measurable:!0,bids:t.map((function(t){return{bidId:t.bidId,config:t.params,sizes:t.sizes.map((function(t){return{width:t[0],height:t[1]}}))}})),property:e})+"&foo",data:""}},interpretResponse:function(t){return function(t){if(window.mantis_uuid)return!1;if(window.mantis_uuid=t,window.localStorage)try{window.localStorage.setItem("mantis:uuid",t)}catch(t){}}(t.body.uuid),t.body.ads.map((function(e){return{requestId:e.bid,cpm:e.cpm,width:e.width,height:e.height,ad:e.html,ttl:e.ttl||t.body.ttl||86400,creativeId:e.view,netRevenue:!0,currency:"USD"}}))},getUserSyncs:function(t){return t.iframeEnabled?[{type:"iframe",url:s("/prebid/iframe")}]:t.pixelEnabled?[{type:"image",url:s("/prebid/pixel")}]:void 0}};w="iframe",f=function(t){if(window.$sf){var e=!1;$sf.ext.register(t.width,t.height,(function(){$sf.ext.inViewPercentage()<50||e||(e=!0,a(t.pixel))}))}else for(var n=document.getElementsByTagName("iframe"),o=0;o<n.length;o++){var i=n[o];i.name==t.frame&&d(i,(function(e){a(t.pixel),e()}),1e3,.5)}},window.addEventListener("message",(function(t){t.data.mantis&&t.data.type==w&&f(t.data.data)}),!1),Object(o.registerBidder)(m)}}]);