(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{306:function(e,t,n){"use strict";n.r(t),n.d(t,"DEFAULT_PBID_TIMEOUT",(function(){return f})),n.d(t,"TIMEOUT_FOR_REGISTRY",(function(){return p}));var r=n(390),i=n(9),a=n(11),o=n(0),u=n(22),c=n(56),d=n(2);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l="".concat("https","://").concat("pa.deployads.com","/pae"),f=1e3,p=250,b={},y=i.EVENTS,m=y.AUCTION_INIT,v=y.AUCTION_END,T=y.BID_REQUESTED,g=y.BID_ADJUSTMENT,I=y.BID_WON,h=y.BID_TIMEOUT,_=60*30*1e3,E="pbrw",A="pbto",U="pber",S="pbid",C=["utm_campaign","utm_source","utm_medium","utm_content","utm_term"],O={auctionId:"ai",adUnitCode:"ac",adId:"adi",bidderAlias:"bs",bidFactor:"bif",bidId:"bid",bidRequestCount:"brc",bidderRequestId:"brid",bidRequestedSizes:"rs",bidTopCpm:"btcp",bidTopCpmCurrency:"btcc",bidTopIsNetRevenue:"btin",bidTopFactor:"btif",bidTopSrc:"btsrc",cpm:"c",currency:"cc",dealId:"did",isNetRevenue:"inr",isTop:"it",isWinner:"iw",isTimeout:"ito",mediaType:"mt",reachedTop:"rtp",numIframes:"nif",size:"siz",start:"st",tagId:"tgid",transactionId:"trid",ttl:"ttl",ttr:"ttr",url:"u",utm_campaign:"uc",utm_source:"us",utm_medium:"um",utm_content:"un",utm_term:"ut"},N={},D=null,k=null,R=[];function w(){try{return window.sessionStorage}catch(e){return null}}function j(e,t){try{var n=w();return!!n&&(null===t?n.removeItem(e):n.setItem(e,JSON.stringify(t)),!0)}catch(e){return!1}}function q(){for(var e=(+new Date).toString(36),t=0;t<6;++t)e+=(36*Math.random()|0).toString(36);return e}function B(){var e=null;if(!b.disableSessionTracking){var t=function(e){try{var t=w();if(!t)return null;var n=t.getItem(e);return null===n?null:JSON.parse(n)}catch(e){return null}}("sortable_utm");e=t&&function(e){return e.created<+new Date+_}(t)?t:null}e=e||{created:+new Date,sessionId:q()};var n=C.map(o.getParameterByName);return C.every((function(t){return!e[t]}))&&(C.forEach((function(t,r){return e[t]=n[r]||e[t]})),e.created=+new Date,function(e,t){if(!b.disableSessionTracking)for(var n in t)if(t.hasOwnProperty(n)){j(e,t);break}}("sortable_utm",e)),e}function F(e,t,n){var r={};return r.s=b.key,r.ai=e,r.ac=t,r.bs=n,r}function M(e,t,n){var r=B(),i=Object(c.a)().version,a=F(e,t,n);return a.sid=r.sessionId,a.pv=b.pageviewId,a.to=N[e].timeout,a.pbv=i,C.filter((function(e){return r[e]})).forEach((function(e){return a[O[e]]=r[e]})),a}function P(e){var t,n;D||(t=Object(c.a)(),n={},t&&t.bidderSettings&&Object.keys(t.bidderSettings).forEach((function(e){var r=function(e){return e&&e.bidCpmAdjustment?e.bidCpmAdjustment(1):null}(t.bidderSettings[e]);null!==r&&(n[e]=r)})),D=n);var r=D[e];return void 0!==r?r:1}function J(e){return e.filter((function(e,t,n){return n.indexOf(e)===t}))}function z(e){var t,n,r=J(e.map((function(e){return e._type}))),i=(t=function(e){return e._type},n={},e.forEach((function(e){var r=t(e);n[r]=n[r]?n[r].concat(e):[e]})),n);return r.map((function(e){return i[e]})).map((function(e){return function(e,t){if(!e.length)return{};var n=J(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return e.concat(t)}),[])),r={};n.forEach((function(t){e.forEach((function(e){return r[t]=r[t]?r[t].concat(e[t]):[e[t]]}))})),Object.keys(r).forEach((function(e){return r[e]=r[e].length&&(t=r[e]).every((function(e){return t[0]===e}))?r[e][0]:r[e];var t})),r._count=e.length;var i={};return i[t]=r,i}(e,e[0]._type)})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=t[n],e}),{})}function x(e){R=R.concat(e),k||(k=setTimeout((function(){var e=R.slice();R=[],W(e),k=null}),p))}function W(e){var t=b.url,n=z(e);Object(u.a)(t,(function(){return o.logInfo("Sortable Analytics data sent")}),JSON.stringify(n),{contentType:"text/plain",method:"POST",withCredentials:!0})}function G(e){var t=e.auctionId,n=N[t];if(n){var r=e.adUnitCode,i=n.adUnits[r];Object.keys(i.bids).forEach((function(t){i.bids[t].isWinner=e.bidderCode===t}))}else{x([function(e){var t=e.auctionId,n=e.adUnitCode,r=e.bidderAlias,i=e.cpm,a=e.currency,o=e.isNetRevenue,u=P(r),c=F(t,n,r);return c.bif=u,D=null,c.c=i,c.cc=a,c.inr=o,c._type=E,c}({adUnitCode:e.adUnitCode,auctionId:e.auctionId,bidderAlias:e.bidderCode,currency:e.currency,cpm:e.cpm,isNetRevenue:e.netRevenue})])}}function H(e){e.forEach((function(e){var t=e.auctionId,n=e.adUnitCode,r=e.bidder,i=N[t];i?i.adUnits[n].bids[r].isTimeout=!0:x([function(e){var t=F(e.auctionId,e.adUnitCode,e.bidderAlias);return t._type=A,t}({auctionId:t,adUnitCode:n,bidderAlias:r})])}))}function L(e){var t=N[e.auctionId],n=t.adUnits;setTimeout((function(){var r=Object.keys(n).map((function(e){var n=Object.keys(t.adUnits[e].bids),r=n.map((function(n){return t.adUnits[e].bids[n]})),i=r.length?r.reduce(o.getOldestHighestCpmBid):null;return n.map((function(n){var r=t.adUnits[e].bids[n];return i&&i.cpm&&(r.isTop=i.bidderAlias===r.bidderAlias,r.bidTopFactor=P(i.bidderAlias),r.bidTopCpm=i.cpm,r.bidTopCpmCurrency=i.currency,r.bidTopIsNetRevenue=i.isNetRevenue,r.bidTopSrc=i.bidderAlias),function(e){var t=M(e.auctionId,e.adUnitCode,e.bidderAlias);return Object.keys(e).forEach((function(n){var r=O[n];r&&(t[r]=e[n])})),t._type=S,t}(r)}))})).reduce((function(e,t){return e.concat(t)}),[]);D=null,W(r),delete N[e.auctionId]}),b.timeoutForPbid)}var Q=s(Object(r.a)({url:l,ANALYTICS_TYPE:"endpoint"}),{track:function(e){var t,n,r,i=e.eventType,a=e.args;try{switch(i){case m:n=(t=a).auctionId,r=t.timeout,N[n]={timeout:r,auctionId:n,adUnits:{}};break;case v:L(a);break;case T:!function(e){var t=e.refererInfo,n=t.referer,r=t.reachedTop,i=t.numIframes;e.bids.forEach((function(t){var a=t.auctionId,o=t.adUnitCode,u="sortable"===t.bidder?t.params.tagId:"";N[a].adUnits[o]||(N[a].adUnits[o]={bids:{}});var c,d=N[a].adUnits[o].bids,s={adUnitCode:t.adUnitCode,auctionId:e.auctionId,bidderAlias:t.bidder,bidId:t.bidId,bidderRequestId:t.bidderRequestId,bidRequestCount:t.bidRequestsCount,bidRequestedSizes:(c=t.sizes,c.map((function(e){return e.join("x")})).join(",")),currency:t.currency,cpm:0,isTimeout:!1,isTop:!1,isWinner:!1,numIframes:i,start:e.start,tagId:u,transactionId:t.transactionId,reachedTop:r,url:encodeURI(n)};d[s.bidderAlias]=s}))}(a);break;case g:!function(e){var t,n,r=e.auctionId,i=e.adUnitCode,a=N[r].adUnits[i].bids[e.bidderCode],o=P(e.bidderCode);a.adId=e.adId,a.adUnitCode=e.adUnitCode,a.auctionId=e.auctionId,a.bidderAlias=e.bidderCode,a.bidFactor=o,a.cpm=e.cpm,a.currency=e.currency,a.dealId=e.dealId,a.isNetRevenue=e.netRevenue,a.mediaType=e.mediaType,a.responseTimestamp=e.responseTimestamp,a.size=(t=e.width,n=e.height,"".concat(t,"x").concat(n)),a.ttl=e.ttl,a.ttr=e.timeToRespond}(a);break;case I:G(a);break;case h:H(a)}}catch(e){!function(e,t,n){var r={};r.s=b.key,r.ti=e,r.args=JSON.stringify(t),r.msg=n.message,r._type=U,x([r])}(i,a,e)}}});Q.originEnableAnalytics=Q.enableAnalytics,Q.enableAnalytics=function(e){this.initConfig(e)&&(o.logInfo("Sortable Analytics adapter enabled"),Q.originEnableAnalytics(e))},Q.initConfig=function(e){var t;return b.disableSessionTracking=void 0!==e.disableSessionTracking&&e.disableSessionTracking,b.key=(t=e.options,(d.b.getConfig("sortable")||{}).siteId||t.siteId),b.protocol=e.options.protocol||"https",b.url="".concat(b.protocol,"://").concat(e.options.eventHost||"pa.deployads.com","/pae/").concat(b.key),b.pageviewId=q(),b.timeoutForPbid=e.timeoutForPbid?Math.max(e.timeoutForPbid,0):f,!!b.key},Q.getOptions=function(){return b},a.default.registerAnalyticsAdapter({adapter:Q,code:"sortable"}),t.default=Q},390:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(9),i=n(22);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=n(15),c=n(0),d=r.EVENTS,s=d.AUCTION_INIT,l=d.AUCTION_END,f=d.REQUEST_BIDS,p=d.BID_REQUESTED,b=d.BID_TIMEOUT,y=d.BID_RESPONSE,m=d.NO_BID,v=d.BID_WON,T=d.BID_ADJUSTMENT,g=d.BIDDER_DONE,I=d.SET_TARGETING,h=d.AD_RENDER_FAILED,_=d.ADD_AD_UNITS;function E(e){var t,n=e.url,r=e.analyticsType,d=e.global,E=e.handler,A=[],U=0,S=!0;return function(){if(S){for(var e=0;e<A.length;e++)A[e]();A.push=function(e){e()},S=!1}c.logMessage("event count sent to ".concat(d,": ").concat(U))}(),{track:function(e){var t=e.eventType,n=e.args;"bundle"===this.getAdapterType()&&window[d](E,t,n);"endpoint"===this.getAdapterType()&&C.apply(void 0,arguments)},enqueue:O,enableAnalytics:N,disableAnalytics:function(){c._each(t,(function(e,t){u.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:N},getAdapterType:function(){return r},getGlobal:function(){return d},getHandler:function(){return E},getUrl:function(){return n}};function C(e){var t=e.eventType,r=e.args,a=e.callback;Object(i.a)(n,a,JSON.stringify({eventType:t,args:r}))}function O(e){var t=e.eventType,n=e.args,r=this;d&&window[d]&&t&&n?this.track({eventType:t,args:n}):A.push((function(){U++,r.track({eventType:t,args:n})}))}function N(e){var n,r=this,i=this;"object"!==o(e)||"object"!==o(e.options)||(void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling))?(u.getEvents().forEach((function(e){if(e){var t=e.eventType,n=e.args;t!==b&&O.call(i,{eventType:t,args:n})}})),a(n={},f,(function(e){return r.enqueue({eventType:f,args:e})})),a(n,p,(function(e){return r.enqueue({eventType:p,args:e})})),a(n,y,(function(e){return r.enqueue({eventType:y,args:e})})),a(n,m,(function(e){return r.enqueue({eventType:m,args:e})})),a(n,b,(function(e){return r.enqueue({eventType:b,args:e})})),a(n,v,(function(e){return r.enqueue({eventType:v,args:e})})),a(n,T,(function(e){return r.enqueue({eventType:T,args:e})})),a(n,g,(function(e){return r.enqueue({eventType:g,args:e})})),a(n,I,(function(e){return r.enqueue({eventType:I,args:e})})),a(n,l,(function(e){return r.enqueue({eventType:l,args:e})})),a(n,h,(function(e){return r.enqueue({eventType:h,args:e})})),a(n,_,(function(e){return r.enqueue({eventType:_,args:e})})),a(n,s,(function(t){t.config="object"===o(e)&&e.options||{},r.enqueue({eventType:s,args:t})})),t=n,c._each(t,(function(e,t){u.on(t,e)}))):c.logMessage('Analytics adapter for "'.concat(d,'" disabled by sampling'));this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return c.logMessage('Analytics adapter for "'.concat(d,'" already enabled, unnecessary call to `enableAnalytics`.'))}}}}}]);