(window.webpackJsonp=window.webpackJsonp||[]).push([[271],{266:function(e,n,t){"use strict";t.r(n),t.d(n,"spec",(function(){return b}));var o=t(280),r=t(278),i=t(277),c=t(283),a=t.n(c),d=t(286),s=t.n(d);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=window.localStorage,f=Object(i.cookiesAreEnabled)(),l="wsPerfData",h="wsLcuid",w="wsCustomData",g=0,b={code:"widespace",supportedMediaTypes:["banner"],isBidRequestValid:function(e){return!(!e.params||!e.params.sid)},buildRequests:function(e,n){var t=[],r=window.wisp&&window.wisp.ENGINE_URL?window.wisp.ENGINE_URL:"https://engine.widespace.com/map/engine/dynadreq",c=["gender","country","region","postal","city","yob"],d=y(l).map((function(e){return JSON.parse(e)})),u=y(w,!1)[0],f=function(){var e=y(h,!1)[0];if(!e){m(("4"+(new Date).getTime()+String(Math.floor(1e9*Math.random()))).substring(0,18),h,!1),e=y(h,!1)[0]}return e}(),b=!1;try{window.top.location.toString(),b=!1}catch(e){b=!0}return e.forEach((function(e,l){var h,w,g,m={screenWidthPx:screen&&screen.width,screenHeightPx:screen&&screen.height,adSpaceHttpRefUrl:S(),referer:(b?window:window.top).location.href.split("#")[0],inFrame:1,sid:e.params.sid,lcuid:f,vol:b?"":v(document.getElementById(e.adUnitCode)),gdprCmp:n&&n.gdprConsent?1:0,hb:"1","hb.cd":u?(w=u,g="object"===p(JSON.parse(JSON.stringify(w))),encodeURIComponent(g?JSON.stringify(w):w)):"","hb.floor":e.bidfloor||"","hb.spb":0===l?(h=o.b.getConfig("userSync"),h&&h.pixelEnabled&&h.syncEnabled?h.syncsPerBidder:-1):-1,"hb.ver":"2.0.1","hb.name":"prebidjs-3.11.0","hb.bidId":e.bidId,"hb.sizes":Object(i.parseSizesInput)(e.sizes).join(","),"hb.currency":e.params.cur||e.params.currency||""};e.params.demo&&c.forEach((function(n){e.params.demo[n]&&(m[n]=e.params.demo[n])})),d[l]&&Object.keys(d[l]).forEach((function(e){m[e]=d[l][e]}));var y=navigator.connection||navigator.webkitConnection;if(y&&y.type&&y.downlinkMax&&(m["netinfo.type"]=y.type,m["netinfo.downlinkMax"]=y.downlinkMax),!b){var E=(s()(window.top.location.hash.split("&"),(function(e){return a()(e,"WS_DEBUG_FORCEADID")}))||"").split("=")[1];m.forceAdId=E}if(m.gdprCmp){var I=n.gdprConsent,O=I.gdprApplies,k=I.consentString,C=I.vendorData,x=C&&C.hasGlobalScope;m.gdprApplies=O?1:void 0===O?"":0,m.gdprConsentData=k,m.gdprHasGlobalScope=x?1:void 0===x?"":0}Object.keys(m).forEach((function(e){""!==m[e]&&void 0!==m[e]||delete m[e]})),t.push({method:"POST",options:{contentType:"application/x-www-form-urlencoded"},url:r,data:Object(i.parseQueryStringParameters)(m)})})),g=Date.now(),t},interpretResponse:function(e,n){var t=Date.now()-g,o=e.body||[],r=[];return o.forEach((function(e){m({perf_status:"OK",perf_reqid:e.reqId,perf_ms:t},"".concat(l).concat(e.reqId)),"ad"===e.status&&r.push({requestId:e.bidId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.adId,currency:e.currency,netRevenue:Boolean(e.netRev),ttl:e.ttl,referrer:S(),ad:e.code})})),r},getUserSyncs:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return n.reduce((function(e,n){return n&&n.body&&n.body[0]&&(n.body[0].syncPixels||[]).forEach((function(n){e.push({type:"image",url:n})})),e}),[])}};function m(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=t?JSON.stringify(e):e;if(u)return localStorage.setItem(n,o),!0;if(f){var r=new Date,i=new Date(r.setMonth(r.getMonth()+12)).toGMTString();return window.document.cookie="".concat(n,"=").concat(o,";path=/;expires=").concat(i),!0}}function y(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=[];return u&&Object.keys(localStorage).filter((function(o){o.indexOf(e)>-1&&(t.push(localStorage.getItem(o)),n&&localStorage.removeItem(o))})),f&&document.cookie.split(";").forEach((function(o){var r=o.split("=");r[0].indexOf(e)>-1&&(t.push(r[1]),n&&(document.cookie="".concat(r[0],"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;")))})),t}function v(e){if(e&&e.getBoundingClientRect){var n=e.getBoundingClientRect().top;return n<screen.height&&n>=window.top.pageYOffset?1:0}return""}function S(){try{return window.top.document.referrer}catch(e){return""}}Object(r.registerBidder)(b)}}]);