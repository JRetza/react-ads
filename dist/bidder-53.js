(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{96:function(e,r,n){"use strict";n.r(r),n.d(r,"spec",(function(){return p}));var t=n(55),d=n(2),s=n(13),i=n(16),o=n(0),p={code:"adform",supportedMediaTypes:[s.b,s.d],isBidRequestValid:function(e){return!!e.params.mid},buildRequests:function(e,r){var n,t,s,i,o,p,a,u,c,g,h=d.b.getConfig("currency.adServerCurrency"),l=[],f=[["adxDomain","adx.adform.net"],["fd",1],["url",null],["tid",null]],b=JSON.parse(JSON.stringify(e)),m=b[0]&&b[0].bidder||"adform";for(n=0,t=b.length;n<t;n++){for("net"!==(o=b[n]).params.priceType&&"net"!==o.params.pt||(c="net"),s=0,i=f.length;s<i;s++)(a=o[p=f[s][0]]||o.params[p])&&(o[p]=o.params[p]=null,f[s][1]=a);(u=o.params).transactionId=o.transactionId,u.rcur=u.rcur||h,l.push(v(u))}for(l.unshift("https://"+f[0][1]+"/adx/?rp=4"),c=c||"gross",l.push("pt="+c),l.push("stid="+e[0].auctionId),r&&r.gdprConsent&&r.gdprConsent.gdprApplies&&(g={gdpr:r.gdprConsent.gdprApplies,gdpr_consent:r.gdprConsent.consentString},l.push("gdpr="+g.gdpr),l.push("gdpr_consent="+g.gdpr_consent)),n=1,t=f.length;n<t;n++)p=f[n][0],(a=f[n][1])&&l.push(p+"="+encodeURIComponent(a));return{method:"GET",url:l.join("&"),bids:e,netRevenue:c,bidder:m,gdpr:g};function v(e){var r,n=[];for(r in e)e.hasOwnProperty(r)&&e[r]&&n.push(r,"=",e[r],"&");return encodeURIComponent(btoa(n.join("").slice(0,-1)))}},interpretResponse:function(e,r){for(var n,t,d,p,a={banner:1,vast_content:1,vast_url:1},u=[],c=r.bids,g=e.body,h=0;h<g.length;h++)p="banner"===(t=g[h]).response?s.b:s.d,d=c[h],a[t.response]&&(f(t,o.getAdUnitSizes(d))||p===s.d)&&(n={requestId:d.bidId,cpm:t.win_bid,width:t.width,height:t.height,creativeId:d.bidId,dealId:t.deal_id,currency:t.win_cur,netRevenue:"gross"!==r.netRevenue,ttl:360,ad:t.banner,bidderCode:r.bidder,transactionId:d.transactionId,vastUrl:t.vast_url,vastXml:t.vast_content,mediaType:p},d.renderer||p!==s.d||"outstream"!==o.deepAccess(d,"mediaTypes.video.context")||(n.renderer=i.a.install({id:d.bidId,url:"https://s2.adform.net/banners/scripts/video/outstream/render.js"}),n.renderer.setRender(l)),r.gdpr&&(n.gdpr=r.gdpr.gdpr,n.gdpr_consent=r.gdpr.gdpr_consent),u.push(n));return u;function l(e){e.renderer.push((function(){window.Adform.renderOutstream(e)}))}function f(e,r){for(var n=0,t=r.length;n<t;n++)if(e.width==r[n][0]&&e.height==r[n][1])return!0;return!1}}};Object(t.registerBidder)(p)}}]);