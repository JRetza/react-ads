(window.webpackJsonp=window.webpackJsonp||[]).push([[265],{345:function(e,r,t){"use strict";t.r(r),t.d(r,"spec",(function(){return b}));var a=t(16),n=t(0),s=t(55),i=t(13),o=t(4),d=t.n(o),p=t(3),c=t.n(p);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function l(e){return function(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var y=["id","mimes","minduration","maxduration","startdelay","skippable","playback_method","frameworks"],f=["age","external_uid","segments","gender","dnt","language"],v={body:"description",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},icon:{serverName:"icon",requiredParams:{required:!0},minimumParams:{sizes:[{}]}},sponsoredBy:"sponsored_by"},b={code:"xhb",aliases:[],supportedMediaTypes:[i.b,i.d,i.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,r){var t,a=e.map(g),n=d()(e,k);n&&(t={},Object.keys(n.params.user).filter((function(e){return c()(f,e)})).forEach((function(e){return t[e]=n.params.user[e]})));var s=d()(e,w),i=s?parseInt(s.params.member,10):0,o={tags:l(a),user:t,sdk:{source:"pbjs",version:"3.11.0"}};return i>0&&(o.member_id=i),r&&r.gdprConsent&&(o.gdpr_consent={consent_string:r.gdprConsent.consentString,consent_required:r.gdprConsent.gdprApplies}),{method:"POST",url:"https://ib.adnxs.com/ut/v3/prebid",data:JSON.stringify(o),bidderRequest:r}},interpretResponse:function(e,r){var t=this,a=r.bidderRequest;e=e.body;var s=[];if(!e||e.error){var o="in response for ".concat(a.bidderCode," adapter");return e&&e.error&&(o+=": ".concat(e.error)),n.logError(o),s}return e.tags&&e.tags.forEach((function(e){var r,o=(r=e)&&r.ads&&r.ads.length&&d()(r.ads,(function(e){return e.rtb}));if(o&&0!==o.cpm&&c()(t.supportedMediaTypes,o.ad_type)){var p=function(e,r,t){var a={requestId:e.uuid,cpm:0,creativeId:r.creative_id,dealId:99999999,currency:"USD",netRevenue:!0,ttl:300,appnexus:{buyerMemberId:r.buyer_member_id}};if(r.rtb.video){if(m(a,{width:r.rtb.video.player_width,height:r.rtb.video.player_height,vastUrl:r.rtb.video.asset_url,vastImpUrl:r.notify_url,ttl:3600}),r.renderer_url){var s=n.deepAccess(t.bids[0],"renderer.options");m(a,{adResponse:e,renderer:h(a.adUnitCode,r,s)}),a.adResponse.ad=a.adResponse.ads[0],a.adResponse.ad.video=a.adResponse.ad.rtb.video}}else if(r.rtb[i.c]){var o=r.rtb[i.c];a[i.c]={title:o.title,body:o.desc,cta:o.ctatext,sponsoredBy:o.sponsored,clickUrl:o.link.url,clickTrackers:o.link.click_trackers,impressionTrackers:o.impression_trackers,javascriptTrackers:o.javascript_trackers},o.main_img&&(a.native.image={url:o.main_img.url,height:o.main_img.height,width:o.main_img.width}),o.icon&&(a.native.icon={url:o.icon.url,height:o.icon.height,width:o.icon.width})}else{m(a,{width:r.rtb.banner.width,height:r.rtb.banner.height,ad:r.rtb.banner.content});try{var d=r.rtb.trackers[0].impression_urls[0],p=n.createTrackPixelHtml(d);a.ad+=p}catch(e){n.logError("Error appending tracking pixel",e)}}return a}(e,o,a);p.mediaType=function(e){var r=e.ad_type;return r===i.d?i.d:r===i.c?i.c:i.b}(o),s.push(p)}})),s},getUserSyncs:function(e){if(e.iframeEnabled)return[{type:"iframe",url:"https://acdn.adnxs.com/ib/static/usersync/v3/async_usersync.html"}]}};function h(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=a.a.install({id:r.renderer_id,url:r.renderer_url,config:t,loaded:!1});try{s.setRender(I)}catch(e){n.logWarn("Prebid Error calling setRender on renderer",e)}return s.setEventHandlers({impression:function(){return n.logMessage("xhb outstream video impression event")},loaded:function(){return n.logMessage("xhb outstream video loaded event")},ended:function(){n.logMessage("xhb outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),s}function g(e){var r,t,a,s,o={};if(o.sizes=_(e.sizes),o.primary_size=o.sizes[0],o.ad_types=[],o.uuid=e.bidId,e.params.placementId?o.id=parseInt(e.params.placementId,10):o.code=e.params.invCode,o.allow_smaller_sizes=e.params.allowSmallerSizes||!1,o.use_pmt_rule=e.params.usePaymentRule||!1,o.prebid=!0,o.disable_psa=!0,e.params.reserve&&(o.reserve=e.params.reserve),e.params.position&&(o.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(o.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(o.private_sizes=_(e.params.privateSizes)),e.params.supplyType&&(o.supply_type=e.params.supplyType),e.params.pubClick&&(o.pubclick=e.params.pubClick),e.params.extInvCode&&(o.ext_inv_code=e.params.extInvCode),e.params.externalImpId&&(o.external_imp_id=e.params.externalImpId),n.isEmpty(e.params.keywords)||(o.keywords=(r=e.params.keywords,t=[],n._each(r,(function(e,r){if(n.isArray(e)){var a=[];n._each(e,(function(e){(e=n.getValueString("keywords."+r,e))&&a.push(e)})),e=a}else{if(e=n.getValueString("keywords."+r,e),!n.isStr(e))return;e=[e]}t.push({key:r,value:e})})),t)),(e.mediaType===i.c||n.deepAccess(e,"mediaTypes.".concat(i.c)))&&(o.ad_types.push(i.c),e.nativeParams)){var d=(a=e.nativeParams,s={},Object.keys(a).forEach((function(e){var r=v[e]&&v[e].serverName||v[e]||e,t=v[e]&&v[e].requiredParams;s[r]=m({},t,a[e]);var n=v[e]&&v[e].minimumParams;if(t&&n){var i=Object.keys(a[e]),o=Object.keys(t);0===i.filter((function(e){return!c()(o,e)})).length&&(s[r]=m({},s[r],n))}})),s);o[i.c]={layouts:[d]}}var p=n.deepAccess(e,"mediaTypes.".concat(i.d)),u=n.deepAccess(e,"mediaTypes.video.context");return(e.mediaType===i.d||p)&&o.ad_types.push(i.d),(e.mediaType===i.d||p&&"outstream"!==u)&&(o.require_asset_url=!0),e.params.video&&(o.video={},Object.keys(e.params.video).filter((function(e){return c()(y,e)})).forEach((function(r){return o.video[r]=e.params.video[r]}))),(n.isEmpty(e.mediaType)&&n.isEmpty(e.mediaTypes)||e.mediaType===i.b||e.mediaTypes&&e.mediaTypes[i.b])&&o.ad_types.push(i.b),o}function _(e){var r=[],t={};if(n.isArray(e)&&2===e.length&&!n.isArray(e[0]))t.width=parseInt(e[0],10),t.height=parseInt(e[1],10),r.push(t);else if("object"===u(e))for(var a=0;a<e.length;a++){var s=e[a];(t={}).width=parseInt(s[0],10),t.height=parseInt(s[1],10),r.push(t)}return r}function k(e){return!!e.params.user}function w(e){return!!parseInt(e.params.member,10)}function I(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},S.bind(null,e))}))}function S(e,r,t){e.renderer.handleVideoEvent({id:r,eventName:t})}Object(s.registerBidder)(b)}}]);