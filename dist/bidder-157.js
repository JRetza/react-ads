(window.webpackJsonp=window.webpackJsonp||[]).push([[157],{221:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return c}));var r=n(0),o=n(55),i=n(13),a=n(16);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c={code:"loopme",supportedMediaTypes:[i.b,i.d],isBidRequestValid:function(e){return"object"===d(e.params)&&!!e.params.ak},buildRequests:function(e,t){return e.map((function(e){e.startTime=(new Date).getTime();var n=e.params;t&&t.gdprConsent&&(n.user_consent=t.gdprConsent.consentString);var o=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push([n,e[n]]);return t}(n).map((function(e){return"".concat(e[0],"=").concat(encodeURI(e[1]))})).join("&"),a="&sizes="+(e.mediaTypes[i.b]?r.getAdUnitSizes(e):r.deepAccess(e.mediaTypes,"video.playerSize")).map((function(e){return"".concat(e[0],"x").concat(e[1])})).join("&sizes=");return o="".concat(o).concat(a).concat(e.mediaTypes[i.d]?"&media_type=video":""),{method:"GET",url:"".concat("https://loopme.me/api/hb"),options:{withCredentials:!1},bidId:e.bidId,data:o}}))},interpretResponse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.body;if(null===n||"object"!==d(n))return[];if(!n.hasOwnProperty("ad")&&!n.hasOwnProperty("vastUrl"))return[];if(n.vastUrl){var r=a.a.install({id:t.bidId,url:"https://i.loopme.me/html/vast/loopme_flex.js",loaded:!1});return r.setRender((function(e){r.push((function(){var t=[{type:"VAST",url:e.vastUrl,autoClose:-1}],n={containerId:e.adUnitCode,vastTimeout:250,ads:t,user_consent:"%%USER_CONSENT%%"};window.L.flex.loader.load(n)}))})),[{requestId:t.bidId,cpm:n.cpm,width:n.width,height:n.height,ttl:n.ttl,currency:n.currency,creativeId:n.creativeId,dealId:n.dealId,netRevenue:n.netRevenue,vastUrl:n.vastUrl,renderer:r}]}return[{requestId:t.bidId,cpm:n.cpm,width:n.width,height:n.height,ad:n.ad,ttl:n.ttl,currency:n.currency,creativeId:n.creativeId,dealId:n.dealId,netRevenue:n.netRevenue}]}};Object(o.registerBidder)(c)}}]);