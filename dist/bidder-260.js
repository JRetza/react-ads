(window.webpackJsonp=window.webpackJsonp||[]).push([[260],{250:function(e,t,n){"use strict";n.r(t),n.d(t,"spec",(function(){return c}));var o=n(280),r=n(281);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=0,s=2,c={code:"ucfunnel",ENDPOINT:"https://hb.aralego.com/header",supportedMediaTypes:[r.b,r.d,r.c],isBidRequestValid:function(e){var t=e.mediaTypes&&null!=e.mediaTypes.video,n=e.mediaTypes&&null!=e.mediaTypes.video?e.mediaTypes.video.videoContext:"";return"object"===a(e.params)&&"string"==typeof e.params.adid&&(!t||"outstream"!==n)},buildRequests:function(e,t){return e.map((function(e){return{method:"GET",url:c.ENDPOINT,data:u(e,t),bidRequest:e}}))},interpretResponse:function(e,t){var n=t.bidRequest,o=e?e.body:{},a=p(n),d={requestId:n.bidId,cpm:o.cpm||0,creativeId:o.ad_id||n.params.adid,dealId:o.deal||null,currency:"USD",netRevenue:!0,ttl:1800};switch(n.params&&n.params.bidfloor&&o.cpm&&o.cpm<n.params.bidfloor&&(d.cpm=0),o.creative_type&&(d.mediaType=o.creative_type),o.creative_type){case r.c:var s=o.native;i(d,{width:1,height:1,native:{title:s.title,body:s.desc,cta:s.ctatext,sponsoredBy:s.sponsored,image:s.image||s.image.url,icon:s.icon||s.icon.url,clickUrl:s.clickUrl,clickTrackers:s.clicktrackers?s.clicktrackers:[],impressionTrackers:s.impressionTrackers}});break;case r.d:i(d,{vastUrl:o.vastUrl,vastXml:o.vastXml}),a&&2===a.length&&i(d,{width:a[0],height:a[1]});break;case r.b:default:var c=p(n);i(d,{width:o.width||c[0],height:o.height||c[1],ad:o.adm||""})}return[d]},getUserSyncs:function(e){return e.iframeEnabled?[{type:"iframe",url:"https://cdn.aralego.net/ucfad/cookie/sync.html"}]:e.pixelEnabled?[{type:"image",url:"https://sync.aralego.com/idSync"}]:void 0}};function p(e){var t=e.params;if(e.mediaType===r.d){if(t.video&&t.video.playerWidth&&t.video.playerHeight)return[t.video.playerWidth,t.video.playerHeight]}return function(e){if("object"===a(e)&&e.length)return e[0]}(e.sizes)}function u(e,t){var n=p(e),o=window.location,r=o.host,a=o.href,c=navigator.language,u="yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,l=e.userId&&e.userId.tdid?e.userId.tdid:"",m=function(e){var t="";if(null!=e&&e.nodes){t=e.ver+","+e.complete;for(var n=0;n<e.nodes.length;n++)t+="!",t+=e.nodes[n].asi?encodeURIComponent(e.nodes[n].asi):"",t+=",",t+=e.nodes[n].sid?encodeURIComponent(e.nodes[n].sid):"",t+=",",t+=e.nodes[n].hp?encodeURIComponent(e.nodes[n].hp):"",t+=",",t+=e.nodes[n].rid?encodeURIComponent(e.nodes[n].rid):"",t+=",",t+=e.nodes[n].name?encodeURIComponent(e.nodes[n].name):"",t+=",",t+=e.nodes[n].domain?encodeURIComponent(e.nodes[n].domain):""}return t}(e.schain),y={ver:"ADGENT_PREBID-2018011501",ifr:0,bl:c,je:1,dnt:u,host:r,u:a,adid:e.params.adid,tdid:l,schain:m,fp:e.params.bidfloor};if(null!=n&&2==n.length&&(y.w=n[0],y.h=n[1]),t&&t.uspConsent&&i(y,{usprivacy:t.uspConsent}),e.mediaTypes&&null!=e.mediaTypes.video)switch(e.mediaTypes.video.context){case"outstream":y.atype=s;break;case"instream":default:y.atype=d}return t&&t.gdprConsent&&i(y,{gdpr:t.gdprConsent.gdprApplies?1:0,euconsent:t.gdprConsent.consentString}),y}Object(o.registerBidder)(c)}}]);