(window.webpackJsonp=window.webpackJsonp||[]).push([[237],{316:function(e,r,t){"use strict";t.r(r),t.d(r,"spec",(function(){return o}));var a=t(55),n=t(0),s=12,d=11,i=0,p=22,o={code:"teads",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){var r=!1;if(void 0!==e.params){var t=f(n.getValue(e.params,"placementId")),a=f(n.getValue(e.params,"pageId"));r=t&&a}return r||n.logError("Teads placementId and pageId parameters are required. Bid aborted."),r},buildRequests:function(e,r){var t=e.map(I),a={referrer:c(r),data:t,deviceWidth:screen.width,hb_version:"3.11.0"};e[0].schain&&(a.schain=e[0].schain);var n=r.gdprConsent;if(r&&n){var s="boolean"==typeof n.gdprApplies,d="string"==typeof n.consentString,i=s?u(n.gdprApplies,n.vendorData):p;a.gdpr_iab={consent:d?n.consentString:"",status:i}}return r&&r.uspConsent&&(a.us_privacy=r.uspConsent),{method:"POST",url:"https://a.teads.tv/hb/bid-request",data:JSON.stringify(a)}},interpretResponse:function(e,r){var t=[];return(e=e.body).responses&&e.responses.forEach((function(e){var r={cpm:e.cpm,width:e.width,height:e.height,currency:e.currency,netRevenue:!0,ttl:e.ttl,ad:e.ad,requestId:e.bidId,creativeId:e.creativeId,placementId:e.placementId};t.push(r)})),t},getUserSyncs:function(e,r,t){var a={hb_provider:"prebid",hb_version:"3.11.0"};if(t){var s={status:u(t.gdprApplies,t.vendorData),consent:t.consentString};a.gdprIab=JSON.stringify(s)}if(n.deepAccess(r[0],"body.responses.0.placementId")&&(a.placementId=r[0].body.responses[0].placementId),e.iframeEnabled)return[{type:"iframe",url:"https://sync.teads.tv/iframe?"+n.parseQueryStringParameters(a)}]}};function c(e){var r="";return e&&e.refererInfo&&e.refererInfo.referer&&(r=e.refererInfo.referer),r}function u(e,r){var t=s;return e?(r.hasGlobalScope||r.hasGlobalConsent)&&(t=d):t=i,t}function I(e){var r={},t=n.getValue(e.params,"placementId"),a=n.getValue(e.params,"pageId");return r.sizes=function(e){return n.parseSizesInput(function(e){var r=n.deepAccess(e,"mediaTypes.video.playerSize"),t=n.deepAccess(e,"mediaTypes.video.sizes"),a=n.deepAccess(e,"mediaTypes.banner.sizes");return n.isArray(a)||n.isArray(r)||n.isArray(t)?[a,t,r].reduce((function(e,r){return n.isArray(r)&&(n.isArray(r[0])?r.forEach((function(r){e.push(r)})):e.push(r)),e}),[]):e.sizes}(e))}(e),r.bidId=n.getBidIdParameter("bidId",e),r.bidderRequestId=n.getBidIdParameter("bidderRequestId",e),r.placementId=parseInt(t,10),r.pageId=parseInt(a,10),r.adUnitCode=n.getBidIdParameter("adUnitCode",e),r.auctionId=n.getBidIdParameter("auctionId",e),r.transactionId=n.getBidIdParameter("transactionId",e),r}function f(e){return parseInt(e)>0}Object(a.registerBidder)(o)}}]);