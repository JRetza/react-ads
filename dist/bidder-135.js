(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{70:function(e,r,n){"use strict";n.r(r),n.d(r,"c1xAdapter",(function(){return u}));var t=n(280),i=n(279),d=n(317);function o(){return(o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}var a="C1X: [ERROR] bidder returns an invalid bid",p="C1X: [ERROR] no site id supplied",s="C1X: [INFO] creating a NO bid for Adunit: ",c="C1X: [INFO] creating a bid for Adunit: ",u={code:"c1x",isBidRequestValid:function(e){var r=e.params.siteId||"";return r||i.logError(p),!(!e.adUnitCode||!r)},buildRequests:function(e,r){var n,t={},i="",a=e.length,p=(new Date).getTime(),s=e.map(g),c=e.map(l),u=(n=s.reduce((function(e,r){return o(e,r)}))).pixelId;return t={adunits:a.toString(),rnd:p.toString(),response:"json",compress:"gzip"},r&&r.gdprConsent&&(t.consent_string=r.gdprConsent.consentString,t.consent_required="boolean"==typeof r.gdprConsent.gdprApplies?r.gdprConsent.gdprApplies.toString():"true"),u&&(i="https://px.c1exchange.com/pubpixel/"+u,t.consent_required&&(i+="&gdpr="+(r.gdprConsent.gdprApplies?1:0),i+="&consent="+encodeURIComponent(r.gdprConsent.consentString||"")),d.a.registerSync("image","c1x",i)),o(t,n),{method:"GET",url:"https://ht.c1exchange.com/ht",data:function(e){return JSON.stringify(e).replace(/":"|","|{"|"}/g,(function(e){return'":"'==e?"=":'","'==e?"&":""}))}(t),bids:c}},interpretResponse:function(e,r){e=e.body,r=r.bids||[];var n=[],t=!1;if(!e||e.error){var d=e.error;return i.logError(a+d),n}return e.forEach((function(e){if(e.bid){"NET_BID"===e.bidType&&(t=!t);for(var d={width:e.width,height:e.height,cpm:e.cpm,ad:e.ad,creativeId:e.crid,currency:"USD",ttl:300,netRevenue:t},o=0;o<r.length;o++)e.adId===r[o].adUnitCode&&(d.requestId=r[o].bidId);i.logInfo(c+e.adId+" size: "+d.width+"x"+d.height),n.push(d)}else i.logInfo(s+e.adId)})),n}};function g(e,r){var n={},t="a"+(r+1).toString(),i=t+"s",d=t+"p",o=e.sizes,a=e.params.floorPriceMap||"";n.site=e.params.siteId||"",e.params.pixelId&&(n.pixelId=e.params.pixelId),n[t]=e.adUnitCode,n[i]=o.reduce((function(e,r){return e+(""===e?"":",")+r.join("x")}),"");var p=n[i].split(",");return a&&p.forEach((function(e){e in a&&(n[d]=a[e].toString())})),e.params.pageurl&&(n.pageurl=e.params.pageurl),n}function l(e){var r={};return r.adUnitCode=e.adUnitCode,r.bidId=e.bidId,r}Object(t.registerBidder)(u)}}]);