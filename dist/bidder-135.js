(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{193:function(e,r,n){"use strict";n.r(r),n.d(r,"spec",(function(){return y})),n.d(r,"resetUserSync",(function(){return v})),n.d(r,"getSyncUrl",(function(){return w}));var t=n(0),i=n(55),s=n(16),d=n(13),a="https://x.bidswitch.net/sync?ssp=iow_labs",o=!1,p="Bid from response has no auid parameter - ",u="Bid from response has no adm parameter - ",c="Array of bid objects is empty",f="Can't find in requested bids the bid with auid - ",b="Seatbid array from response has empty item",g="Response is empty",l="Response has empty seatbid array",m="Seatbid from response has no array of bid objects - ",y={code:"grid",supportedMediaTypes:[d.b,d.d],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,r){var n,i=[],s={},d={},a={};(e||[]).forEach((function(e){n=e.bidderRequestId;var r=e.params.uid,o=e.adUnitCode;i.push(r);var p=t.parseSizesInput(e.sizes);d[r]||(d[r]={});var u=d[r];u[o]?u[o].bids.push(e):u[o]={adUnitCode:o,bids:[e],parents:[]};var c=u[o];p.forEach((function(e){a[e]=!0,s[r]||(s[r]={}),s[r][e]?s[r][e].push(c):s[r][e]=[c],c.parents.push({parent:s[r],key:e,uid:r})}))}));var o={auids:i.join(","),sizes:t.getKeys(a).join(","),r:n,wrapperType:"Prebid_js",wrapperVersion:"3.11.0"};return r&&(r.refererInfo&&r.refererInfo.referer&&(o.u=r.refererInfo.referer),r.timeout&&(o.wtimeout=r.timeout),r.gdprConsent&&(r.gdprConsent.consentString&&(o.gdpr_consent=r.gdprConsent.consentString),o.gdpr_applies="boolean"==typeof r.gdprConsent.gdprApplies?Number(r.gdprConsent.gdprApplies):1),r.uspConsent&&(o.us_privacy=r.uspConsent)),{method:"GET",url:"https://grid.bidswitch.net/hb",data:t.parseQueryStringParameters(o).replace(/\&$/,""),bidsMap:s}},interpretResponse:function(e,r){e=e&&e.body;var n,i=[],a=r.bidsMap;return e?e.seatbid&&!e.seatbid.length&&(n=l):n=g,!n&&e.seatbid&&e.seatbid.forEach((function(e){!function(e,r,n){if(!e)return;var i;e.auid||(i=p+JSON.stringify(e));if(e.adm){var a=r[e.auid];if(a){var o="".concat(e.w,"x").concat(e.h);if(a[o]){var c=a[o][0],b=c.bids.shift(),g={requestId:b.bidId,bidderCode:y.code,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!1,ttl:360,dealId:e.dealid};"video"===e.content_type?(g.vastXml=e.adm,g.mediaType=d.d,g.adResponse={content:g.vastXml},b.renderer||b.mediaTypes&&b.mediaTypes.video&&"outstream"!==b.mediaTypes.video.context||(g.renderer=function(e,r){var n=s.a.install({id:r.id,url:r.url,loaded:!1});try{n.setRender(h)}catch(e){t.logWarn("Prebid Error calling setRender on renderer",e)}return n}(0,{id:b.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(g.ad=e.adm,g.mediaType=d.b),n.push(g),c.bids.length||c.parents.forEach((function(e){var n=e.parent,i=e.key,s=e.uid,d=n[i].indexOf(c);d>-1&&n[i].splice(d,1),n[i].length||(delete n[i],t.getKeys(n).length||delete r[s])}))}}else i=f+e.auid}else i=u+JSON.stringify(e);i&&t.logError(i)}(function(e){e?e.bid?e.bid[0]||t.logError(c):t.logError(m+JSON.stringify(e)):t.logError(b);return e&&e.bid&&e.bid[0]}(e),a,i)})),n&&t.logError(n),i},getUserSyncs:function(e,r,n,t){if(!o&&e.pixelEnabled){var i="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?i+="&gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):i+="&gdpr_consent=".concat(n.consentString)),t&&(i+="&us_privacy=".concat(t)),o=!0,{type:"image",url:a+i}}}};function h(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}function v(){o=!1}function w(){return a}Object(i.registerBidder)(y)}}]);