(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{84:function(e,r,t){"use strict";t.r(r),t.d(r,"spec",(function(){return i}));var a=t(279),d=t(280),n=t(281),i={code:"cpmstar",supportedMediaTypes:[n.b,n.d],pageID:Math.floor(1e7*Math.random()),getMediaType:function(e){return null==e?n.b:a.deepAccess(e,"mediaTypes.video")?n.d:n.b},getPlayerSize:function(e){var r=a.deepAccess(e,"mediaTypes.video.playerSize");return null==r?[640,440]:(null!=r[0]&&(r=r[0]),null==r||null==r[0]||null==r[1]?[640,440]:r)},isBidRequestValid:function(e){return"string"==typeof e.params.placementId&&!!e.params.placementId.length||"number"==typeof e.params.placementId},buildRequests:function(e,r){for(var t=[],d=0;d<e.length;d++){var s=e[d],p=encodeURIComponent(r.refererInfo.referer),c=a.getBidIdParameter("endpoint",s.params),o="dev"==c?"https://dev.server.cpmstar.com/view.aspx":"staging"==c?"https://staging.server.cpmstar.com/view.aspx":"https://server.cpmstar.com/view.aspx",l=i.getMediaType(s),u=i.getPlayerSize(s),m="&fv=0"+(u?"&w="+u[0]+"&h="+u[1]:"");t.push({method:"GET",url:o+"?media="+l+(l==n.d?m:"")+"&json=c_b&mv=1&poolid="+a.getBidIdParameter("placementId",s.params)+"&reachedTop="+encodeURIComponent(r.refererInfo.reachedTop)+"&requestid="+s.bidId+"&referer="+p,bidRequest:s})}return t},interpretResponse:function(e,r){var t=r.bidRequest,d=i.getMediaType(t),s=[];Array.isArray(e.body)||(e.body=[e.body]);for(var p=0;p<e.body.length;p++){var c=e.body[p].creatives[0];if(!c)return void a.logWarn("cpmstarBidAdapter: server response failed check");var o=parseFloat(c.cpm)||0;if(!o)return void a.logWarn("cpmstarBidAdapter: server response failed check. Missing cpm");var l={requestId:c.requestid,cpm:o,width:c.width||0,height:c.height||0,currency:c.currency?c.currency:"USD",netRevenue:!c.netRevenue||c.netRevenue,ttl:c.ttl?c.ttl:300,creativeId:c.creativeid||0};if(c.hasOwnProperty("dealId")&&(l.dealId=c.dealId),d==n.b&&c.code)l.ad=c.code+(c.px_cr?"\n<img width=0 height=0 src='"+c.px_cr+"' />":"");else{if(d!=n.d||!c.creativemacros||!c.creativemacros.HTML5VID_VASTSTRING)return a.logError("bad response",c);var u=i.getPlayerSize(t);null!=u&&(l.width=u[0],l.height=u[1]),l.mediaType=n.d,l.vastXml=c.creativemacros.HTML5VID_VASTSTRING}s.push(l)}return s}};Object(d.registerBidder)(i)}}]);