(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{218:function(a,r,e){"use strict";e.r(r),e.d(r,"spec",(function(){return o}));var t=e(0),n=e(55),p=e(13);function s(a){return!!(a&&void 0!==a&&parseInt(a)>0)}var o={code:"lkqd",supportedMediaTypes:[p.d],isBidRequestValid:function(a){return!("lkqd"!==a.bidder||void 0===a.params||!s(a.params.siteId)||!s(a.params.placementId))},buildRequests:function(a,r){for(var e=[],n=0;n<a.length;n++){var p=a[n],s=[],o=p.sizes,d=t.deepAccess(p,"mediaTypes.video.playerSize");o&&o.length||d&&d.length||(t.logWarn("Warning: Could not find valid width/height parameters on the provided adUnit"),s=[[640,480]]),o&&o.length>0?(s=o,2===o.length&&"number"==typeof o[0]&&"number"==typeof o[1]&&(s=[o])):d&&d.length>0&&(s=d,2===d.length&&"number"==typeof d[0]&&"number"==typeof d[1]&&(s=[d]));for(var i=function(a){var n=s[a],o=void 0,d=void 0;n&&2==n.length?(o=n[0],d=n[1]):t.logWarn("Warning: Could not determine width/height from the provided adUnit");var i="https://v.lkqd.net/ad".concat(),l={};l.pid=p.params.placementId,l.sid=p.params.siteId,l.prebid=!0,p.params.hasOwnProperty("output")&&null!=p.params.output?l.output=p.params.output:l.output="vast",p.params.hasOwnProperty("execution")&&null!=p.params.execution?l.execution=p.params.execution:l.execution="any",p.params.hasOwnProperty("support")&&null!=p.params.support?l.support=p.params.support:l.support="html5",p.params.hasOwnProperty("playinit")&&null!=p.params.playinit?l.playinit=p.params.playinit:l.playinit="auto",p.params.hasOwnProperty("volume")&&null!=p.params.volume?l.volume=p.params.volume:l.volume="100",o&&(l.width=o),d&&(l.height=d),p.params.hasOwnProperty("vpaidmode")&&null!=p.params.vpaidmode&&(l.vpaidmode=p.params.vpaidmode),p.params.hasOwnProperty("appname")&&null!=p.params.appname&&(l.appname=p.params.appname),p.params.hasOwnProperty("bundleid")&&null!=p.params.bundleid&&(l.bundleid=p.params.bundleid),p.params.hasOwnProperty("aid")&&null!=p.params.aid&&(l.aid=p.params.aid),p.params.hasOwnProperty("idfa")&&null!=p.params.idfa&&(l.idfa=p.params.idfa),p.params.hasOwnProperty("gdpr")&&null!=p.params.gdpr&&(l.gdpr=p.params.gdpr),p.params.hasOwnProperty("gdprcs")&&null!=p.params.gdprcs&&(l.gdprcs=p.params.gdprcs),p.params.hasOwnProperty("flrd")&&null!=p.params.flrd&&(l.flrd=p.params.flrd),p.params.hasOwnProperty("flrmp")&&null!=p.params.flrmp&&(l.flrmp=p.params.flrmp),p.params.hasOwnProperty("schain")&&null!=p.params.schain&&(l.schain=p.params.schain),p.params.hasOwnProperty("placement")&&null!=p.params.placement&&(l.placement=p.params.placement),p.params.hasOwnProperty("timeout")&&null!=p.params.timeout&&(l.timeout=p.params.timeout),p.params.hasOwnProperty("dnt")&&null!=p.params.dnt&&(l.dnt=p.params.dnt),p.params.hasOwnProperty("pageurl")&&null!=p.params.pageurl?l.pageurl=p.params.pageurl:r&&r.refererInfo&&(l.pageurl=encodeURIComponent(encodeURIComponent(r.refererInfo.referer))),p.params.hasOwnProperty("contentId")&&null!=p.params.contentId&&(l.contentid=p.params.contentId),p.params.hasOwnProperty("contentTitle")&&null!=p.params.contentTitle&&(l.contenttitle=p.params.contentTitle),p.params.hasOwnProperty("contentLength")&&null!=p.params.contentLength&&(l.contentlength=p.params.contentLength),p.params.hasOwnProperty("contentUrl")&&null!=p.params.contentUrl&&(l.contenturl=p.params.contentUrl),p.params.hasOwnProperty("schain")&&p.params.schain&&(l.schain=p.params.schain),l.rnd=Math.floor(999999999*Math.random()),l.bidId=p.bidId,l.bidWidth=o,l.bidHeight=d,e.push({method:"GET",url:i,data:Object.keys(l).map((function(a){return a+"="+l[a]})).join("&")+"&"})},l=0;l<s.length;l++)i(l)}return e},interpretResponse:function(a,r){var e=[];if(a&&a.body){if(a.error)return t.logError("Error: "+a.error),e;try{var n,s,o,d,i={};if(r&&r.data&&"string"==typeof r.data)if(window.URLSearchParams?(s=(n=new URLSearchParams(r.data)).get("bidId"),o=n.get("bidWidth"),d=n.get("bidHeight")):(r.data.indexOf("bidId=")>=0&&(s=(s=r.data.substr(r.data.indexOf("bidId=")+6,r.data.length)).split("&")[0]),r.data.indexOf("bidWidth=")>=0&&(o=(o=r.data.substr(r.data.indexOf("bidWidth=")+9,r.data.length)).split("&")[0]),r.data.indexOf("bidHeight=")>=0&&(d=(d=r.data.substr(r.data.indexOf("bidHeight=")+10,r.data.length)).split("&")[0])),s){var l=a.body,m=(new window.DOMParser).parseFromString(l,"text/xml");if(m&&0==m.getElementsByTagName("parsererror").length){var u=r.url.concat();i.requestId=s,i.bidderCode="lkqd",i.ad="",i.cpm=parseFloat(m.getElementsByTagName("Pricing")[0].textContent),i.width=o,i.height=d,i.ttl=300,i.creativeId=m.getElementsByTagName("Ad")[0].getAttribute("id"),i.currency=m.getElementsByTagName("Pricing")[0].getAttribute("currency"),i.netRevenue=!0,i.vastUrl=u,i.vastXml=l,i.mediaType=p.d,e.push(i)}else t.logError("Error: Server response contained invalid XML")}else t.logError("Error: Could not associate bid request to server response");else t.logError("Error: Could not associate bid request to server response")}catch(a){t.logError("Error: Could not interpret server response")}}else t.logError("Error: No server response or server response was empty for the requested URL");return e}};Object(n.registerBidder)(o)}}]);