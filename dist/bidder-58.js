(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{102:function(e,t,r){"use strict";r.r(t),r.d(t,"spec",(function(){return l}));var n=r(0),a=r(55),i=r(13),o=r(23),s=["video/mp4","video/webm","application/x-shockwave-flash","application/javascript"],c=[2,3,5,6],d=[1,2];function p(e){var t={id:e.bidId,tagid:e.adUnitCode},r=n.deepAccess(e,"mediaTypes.banner"),a=n.deepAccess(e,"mediaTypes.video");if(r){var i=u(r.sizes);t.banner={format:n.parseSizesInput(i)}}else if(a){var o=u(a.playerSize)[0];t.video={w:o[0],h:o[1],mimes:a.mimes||s,protocols:a.protocols||c,api:a.api||d}}return t}function u(e){return 2!==e.length||n.isArray(e[0])?e:[e]}function m(e){var t=Object(o.c)(e.referer),r={page:"".concat(t.protocol,"://").concat(t.hostname).concat(t.pathname),secure:~~("https"===t.protocol)};self===top&&document.referrer&&(r.ref=document.referrer);var n=document.getElementsByTagName("meta").keywords;return n&&n.content&&(r.keywords=n.content),r}function f(e){var t={requestId:e.impid,bidderCode:l.code,cpm:e.bid,width:e.w,height:e.h,creativeId:e.crid,currency:"USD",ttl:720,netRevenue:!0};return e.tag?(t.ad=e.tag,t.mediaType=i.b):e.vast_url&&(t.vastUrl=e.vast_url,t.mediaType=i.d),t}var l={code:"adkernelAdn",supportedMediaTypes:[i.b,i.d],aliases:["engagesimply"],isBidRequestValid:function(e){return"params"in e&&(void 0===e.params.host||"string"==typeof e.params.host)&&"number"==typeof e.params.pubId&&"mediaTypes"in e&&("banner"in e.mediaTypes||"video"in e.mediaTypes)},buildRequests:function(e,t){var r=e.map(p).reduce((function(t,r,n){var a=e[n],i=a.params.pubId,o=a.params.host||"tag.adkernel.com";return t[o]=t[o]||{},t[o][i]=t[o][i]||[],t[o][i].push(r),t}),{}),a=t.auctionId,i=t.gdprConsent,o=t.uspConsent,s=t.transactionId,c=t.refererInfo,d=[];return Object.keys(r).forEach((function(e){Object.keys(r[e]).forEach((function(t){var p,u=function(e,t,r,a,i,o){var s={id:t,tid:r,site:m(o),imp:e};return a&&(void 0!==a.gdprApplies&&n.deepSetValue(s,"user.gdpr",~~a.gdprApplies),void 0!==a.consentString&&n.deepSetValue(s,"user.consent",a.consentString)),i&&n.deepSetValue(s,"user.us_privacy",i),s}(r[e][t],a,s,i,o,c);d.push({method:"POST",url:"https://".concat(e,"/tag?account=").concat(t,"&pb=1").concat((p=c,-1!==p.referer.indexOf("adk_debug=true")?"&debug=1":"")),data:JSON.stringify(u)})}))})),d},interpretResponse:function(e){var t=e.body;return t.tags?(t.debug&&n.logInfo("ADKERNEL DEBUG:\n".concat(t.debug)),t.tags.map(f)):[]},getUserSyncs:function(e,t){return e.iframeEnabled&&t&&0!==t.length?t.filter((function(e){return e.body&&e.body.syncpages})).map((function(e){return e.body.syncpages})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return{type:"iframe",url:e}})):[]}};Object(a.registerBidder)(l)}}]);