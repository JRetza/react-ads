(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{254:function(e,r,n){"use strict";n.r(r),n.d(r,"adapter",(function(){return u}));var t=n(277),i=n(287),a=n(278),o=n(279);function d(){return(d=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}var c=function(e){return e.filter((function(e){var r=!!t.deepAccess(e,"ext.renderer.config"),n=!!t.deepAccess(e,"ext.renderer.config.siteId");return r||t.logError(new Error("UnrulyBidAdapter: Missing renderer config.")),n||t.logError(new Error("UnrulyBidAdapter: Missing renderer siteId.")),n})).map((function(e){var r=t.deepAccess(e,"ext.renderer");return function(e){if(!e.config)throw new Error("UnrulyBidAdapter: Missing renderer config.");if(!e.config.siteId)throw new Error("UnrulyBidAdapter: Missing renderer siteId.");parent.window.unruly=parent.window.unruly||{},parent.window.unruly.native=parent.window.unruly.native||{},parent.window.unruly.native.siteId=parent.window.unruly.native.siteId||e.config.siteId,parent.window.unruly.native.supplyMode="prebid"}(r),parent.window.unruly.native.prebid=parent.window.unruly.native.prebid||{},parent.window.unruly.native.prebid.uq=parent.window.unruly.native.prebid.uq||[],{rendererInstance:i.a.install(d({},r,{callback:function(){}})),serverBid:e}})).map((function(e){var r=e.rendererInstance,n=e.serverBid,t=function(e,r){return{requestId:e.bidId,cpm:e.cpm,width:e.width,height:e.height,vastUrl:e.vastUrl,netRevenue:!0,creativeId:e.bidId,ttl:360,currency:"USD",renderer:r,mediaType:o.d}}(n,r),i=d({},t,{renderer:r,adUnitCode:n.ext.adUnitCode});return r.setRender((function(){var e;e=i,parent.window.unruly.native.prebid.uq.push(["render",e])})),t}))},u={code:"unruly",supportedMediaTypes:[o.d],isBidRequestValid:function(e){if(!e)return!1;var r=t.deepAccess(e,"mediaTypes.video.context");return"video"===e.mediaType||"outstream"===r},buildRequests:function(e,r){return{url:"https://targeting.unrulymedia.com/prebid",method:"POST",data:{bidRequests:e,bidderRequest:r},options:{contentType:"text/plain"}}},interpretResponse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.body,n=[],t=!r||!r.bids;return t?n:c(r.bids)},getUserSyncs:function(e,r,n){var t="";n&&"gdprApplies"in n&&(n.gdprApplies&&"string"==typeof n.consentString?t+="?gdpr=1&gdpr_consent=".concat(n.consentString):t+="?gdpr=0");var i=[];return e.iframeEnabled&&i.push({type:"iframe",url:"https://video.unrulymedia.com/iframes/third-party-iframes.html"+t}),i}};Object(a.registerBidder)(u)},284:function(e,r,n){"use strict";n.d(r,"a",(function(){return c}));var t=n(283),i=n.n(t),a=n(277),o={},d=["criteo","outstream","adagio","browsi"];function c(e,r,n){if(r&&e){if(i()(d,r))return o[e]?(n&&"function"==typeof n&&(o[e].loaded?n():o[e].callbacks.push(n)),o[e].tag):(o[e]={loaded:!1,tag:null,callbacks:[]},n&&"function"==typeof n&&o[e].callbacks.push(n),a.logWarn("module ".concat(r," is loading external JavaScript")),function(r,n){var t=document.createElement("script");t.type="text/javascript",t.async=!0,o[e].tag=t,t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,n())}:t.onload=function(){n()};return t.src=r,a.insertElement(t),t}(e,(function(){o[e].loaded=!0;try{for(var r=0;r<o[e].callbacks.length;r++)o[e].callbacks[r]()}catch(e){a.logError("Error executing callback","adloader.js:loadExternalScript",e)}})));a.logError("".concat(r," not whitelisted for loading external JavaScript"))}else a.logError("cannot load external script without url and moduleCode")}},287:function(e,r,n){"use strict";n.d(r,"a",(function(){return d})),n.d(r,"c",(function(){return c})),n.d(r,"b",(function(){return u}));var t=n(284),i=n(277),a=n(286),o=n.n(a);function d(e){var r=this,n=e.url,a=e.config,d=e.id,c=e.callback,u=e.loaded,s=e.adUnitCode;this.url=n,this.config=a,this.handlers={},this.id=d,this.loaded=u,this.cmd=[],this.push=function(e){"function"==typeof e?r.loaded?e.call():r.cmd.push(e):i.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||function(){r.loaded=!0,r.process()},!function(e){var r=pbjs.adUnits,n=o()(r,(function(r){return r.code===e}));return!!(n&&n.renderer&&n.renderer.url&&n.renderer.render)}(s)?Object(t.a)(n,"outstream",this.callback):i.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(s))}function c(e){return!(!e||!e.url)}function u(e,r){e.render(r)}d.install=function(e){return new d({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},d.prototype.getConfig=function(){return this.config},d.prototype.setRender=function(e){this.render=e},d.prototype.setEventHandlers=function(e){this.handlers=e},d.prototype.handleVideoEvent=function(e){var r=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),i.logMessage("Prebid Renderer event for id ".concat(r," type ").concat(n))},d.prototype.process=function(){for(;this.cmd.length>0;)try{this.cmd.shift().call()}catch(e){i.logError("Error processing Renderer command: ",e)}}}}]);