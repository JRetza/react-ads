(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{110:function(e,r,t){"use strict";t.r(r),t.d(r,"spec",(function(){return u}));var a=t(277),n=t(278);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){for(var r=[0,0],t=0;t<e.length;t++)e[t][0]*e[t][1]>r[0]*r[1]&&(r=e[t]);return r}function i(e,r,t){for(var a=r||[0,0],n=t||[Number.MAX_VALUE,Number.MAX_VALUE],s=[],i=0;i<e.length;i++)e[i][0]*e[i][1]>=a[0]*a[1]&&e[i][0]*e[i][1]<=n[0]*n[1]&&s.push(e[i]);return o(s)}function p(){var e=window;try{for(;top!==e;)e.parent.location.href.length&&(e=e.parent)}catch(e){}return e}function d(e){var r="mustang";return e&&"inbanner"!==e&&(r=e),r}var c=function(e,r){return'var config = {      preloadedVast:vast,      autoPlay:true    };    var ad = new window.com.stickyadstv.vpaid.Ad(document.getElementById("freewheelssp_prebid_target"),config);    (new window.com.stickyadstv.tools.ASLoader('+e.params.zoneId+", '"+d(e.params.format)+"')).registerEvents(ad);    ad.initAd("+r[0]+","+r[1]+',"",0,"","");'},m=function(e){var r=e.params;r.hasOwnProperty("domId")||r.hasOwnProperty("auto")||r.hasOwnProperty("p")||r.hasOwnProperty("article")||("intext-roll"===r.format?r.iframeMode="dfp":r.domId="freewheelssp_prebid_target");var t="var config = {  preloadedVast:vast,  ASLoader:new window.com.stickyadstv.tools.ASLoader("+e.params.zoneId+", '"+d(e.params.format)+"')";for(var a in r)r.hasOwnProperty(a)&&"format"!==a&&"zone"!==a&&"zoneId"!==a&&"vastUrlParams"!==a&&(t+=","+a+':"'+r[a]+'"');return t+="};window.com.stickyadstv."+(e.params.format||"").replace("-","")+".start(config);"},u={code:"freewheel-ssp",supportedMediaTypes:["banner","video"],aliases:["stickyadstv"],isBidRequestValid:function(e){return!!e.params.zoneId},buildRequests:function(e,r){var t=e[0];e.length>1&&a.logMessage("Prebid.JS - freewheel bid adapter: only one ad unit is required.");var n=t.params.zoneId,c=(new Date).getTime(),m=function(e){var r=0;if(0==e.length)return r;for(var t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r&=r;return r}(n+""+c),u={reqType:"AdsSetup",protocolVersion:"2.0",zoneId:n,componentId:d(t.params.format),timestamp:c,pKey:m};r&&r.gdprConsent&&(u._fw_gdpr_consent=r.gdprConsent.consentString,"boolean"==typeof r.gdprConsent.gdprApplies&&(u._fw_gdpr=r.gdprConsent.gdprApplies)),t.params.gdpr_consented_providers&&(u._fw_gdpr_consented_providers=t.params.gdpr_consented_providers),r&&r.uspConsent&&(u._fw_us_privacy=r.uspConsent);var f=t.params.vastUrlParams;if("object"===s(f))for(var l in f)f.hasOwnProperty(l)&&(u[l]=f[l]);var y,v=r&&r.refererInfo?r.refererInfo.referer:p().location.href;(y=v)&&/^(https?|ftp|file):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(y)&&(u.loc=v);var w=[];return((w=t.mediaTypes.video&&t.mediaTypes.video.playerSize?t.mediaTypes.video.playerSize:t.mediaTypes.banner.sizes?i(t.mediaTypes.banner.sizes,t.mediaTypes.banner.minSizeLimit,t.mediaTypes.banner.maxSizeLimit):o(t.sizes))[0]>0||w[1]>0)&&(u.playerSize=w[0]+"x"+w[1]),{method:"GET",url:"https://ads.stickyadstv.com/www/delivery/swfIndex.php",data:u,bidRequest:t}},interpretResponse:function(e,r){var t,n=r.bidRequest,u=[];u=n.mediaTypes.video&&n.mediaTypes.video.playerSize?n.mediaTypes.video.playerSize:n.mediaTypes.banner.sizes?i(n.mediaTypes.banner.sizes,n.mediaTypes.banner.minSizeLimit,n.mediaTypes.banner.maxSizeLimit):o(n.sizes),"object"==s(e)&&"string"==typeof e.body&&(e=e.body);try{t=(new DOMParser).parseFromString(e,"application/xml")}catch(e){return void a.logWarn("Prebid.js - freewheel-ssp : "+e)}var f,l,y=function(e){var r,t={},n=e.querySelectorAll("Extension");if(Array.prototype.forEach.call(n,(function(e){"StickyPricing"===e.getAttribute("type")&&(r=e)})),r){var s=r.querySelector("Price");t={currency:s.getAttribute("currency"),price:s.textContent||s.innerText}}else a.logWarn("PREBID - freewheel-ssp: Can't get pricing data. Is price awareness enabled?");return t}(t),v=(f="",l=t.querySelectorAll("Ad"),Array.prototype.forEach.call(l,(function(e){f+="["+e.getAttribute("id")+"]"})),f),w=p();w.freewheelssp_cache||(w.freewheelssp_cache={}),w.freewheelssp_cache[n.adUnitCode]=e;var h,g,b,z,_,A,S=[];if(y.price){var T={requestId:n.bidId,cpm:y.price,width:u[0],height:u[1],creativeId:v,currency:y.currency,netRevenue:!0,ttl:360};T.ad=(g=u,b=(h=n).params.format,z='<div id="freewheelssp_prebid_target" style="width:'+g[0]+"px;height:"+g[1]+'px;"></div>',_="",A="",b&&"inbanner"!==b?(A="https://cdn.stickyadstv.com/prime-time/"+d(h.params.format)+".min.js",_=m(h,g)):(A="https://cdn.stickyadstv.com/mustang/mustang.min.js",_=c(h,g)),z+"<script type='text/javascript'>(function() {  var st = document.createElement('script'); st.type = 'text/javascript'; st.async = true;  st.src = '"+A+"';  st.onload = function(){    var vastLoader = new window.com.stickyadstv.vast.VastLoader();    var vast = vastLoader.getVast();    var topWindow = (function(){var res=window; try{while(top != res){if(res.parent.location.href.length)res=res.parent;}}catch(e){}return res;})();    vast.setXmlString(topWindow.freewheelssp_cache[\""+h.adUnitCode+'"]);    vastLoader.parseAds(vast, {      onSuccess: function() {'+_+" }    });  };  document.head.appendChild(st);})();<\/script>"),S.push(T)}return S},getUserSyncs:function(e){return e&&e.pixelEnabled?[{type:"image",url:"https://ads.stickyadstv.com/auto-user-sync"}]:[]}};Object(n.registerBidder)(u)}}]);